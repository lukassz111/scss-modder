(()=>{"use strict";var e={802:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.IRunConfigCommandType=void 0,function(e){e.RemoveRuleByName="RemoveRuleByName",e.RemoveEmptyBlocks="RemoveEmptyBlocks",e.RemoveEmptyComments="RemoveEmptyComments",e.ChangeOneLineCommentsToMultiline="ChangeOneLineCommentsToMultiline",e.RemoveCssVar="RemoveCssVar",e.CommentsContentTrim="CommentsContentTrim"}(n||(t.IRunConfigCommandType=n={}))},169:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IScssElementType=void 0,t.IScssElementType={default:"Default",rule:"Rule",block:"Block",oneLineComment:"OneLineComment",multiLineComment:"MultiLineComment",code:"Code"}},884:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tryRunCommandsOnComment=o,t.runCommand=c;const l=n(802),i=n(169),s=n(168);function o(e,t){let n=e,l=s.Functions.scssConvertToObject(n),i=s.Functions.objectConvertToScss(l);if(!s.Functions.compareScssStrings(n,i))return n;let o=JSON.parse(JSON.stringify(t));return o.runCommandOnContentOfComment=!1,c(l,o),s.Functions.objectConvertToScss(l)}function c(e,t){switch(t.commandType){case l.IRunConfigCommandType.RemoveCssVar:{let t=[e];for(;t.length>0;){let e=t.pop();if(null!=e.child&&null!=e.child)for(let n=e.child.length-1;n>=0;n--)if(e.child[n].elementType==i.IScssElementType.rule){let t=e.child[n];null!=t.value&&null!=t&&t.name.startsWith("--")&&e.child.splice(n,1)}else t.push(e.child[n])}}break;case l.IRunConfigCommandType.CommentsContentTrim:{let t=[e];for(;t.length>0;){let e=t.pop();if(null!=e.child&&null!=e.child)for(let n=e.child.length-1;n>=0;n--)e.child[n].elementType==i.IScssElementType.oneLineComment||e.child[n].elementType==i.IScssElementType.multiLineComment?e.child[n].text=e.child[n].text.trim():t.push(e.child[n])}}break;case l.IRunConfigCommandType.ChangeOneLineCommentsToMultiline:{let t=[e];for(;t.length>0;){let e=t.pop();if(null!=e.child&&null!=e.child){let n="",l=-1,s=-1;for(let t=e.child.length-1;t>=0;t--)if(e.child[t].elementType===i.IScssElementType.oneLineComment)-1==l?l=t:s=t,n=e.child[t].text+"\n"+n;else{if(-1!=s&&-1!=l){let t={elementType:i.IScssElementType.multiLineComment,text:n};e.child.splice(s,l-s,t)}s=-1,l=-1,n=""}if(-1!=s&&-1!=l){let t={elementType:i.IScssElementType.multiLineComment,text:n};e.child.splice(s,l-s,t)}for(let n=e.child.length-1;n>=0;n--)switch(e.child[n].elementType){case i.IScssElementType.oneLineComment:case i.IScssElementType.multiLineComment:break;default:t.push(e.child[n])}}}}break;case l.IRunConfigCommandType.RemoveEmptyComments:{let t=[e];for(;t.length>0;){let e=t.pop();if(null!=e.child)for(let n=e.child.length-1;n>=0;n--)e.child[n].elementType==i.IScssElementType.oneLineComment||e.child[n].elementType==i.IScssElementType.multiLineComment?""==e.child[n].text.trim()&&e.child.splice(n,1):t.push(e.child[n])}}break;case l.IRunConfigCommandType.RemoveRuleByName:{let n=[e];for(;n.length>0;){let e=n.pop();if(null!=e.child)for(let l=e.child.length-1;l>=0;l--)e.child[l].elementType==i.IScssElementType.rule?t.ruleName.includes(e.child[l].name.trim())&&e.child.splice(l,1):n.push(e.child[l])}}break;case l.IRunConfigCommandType.RemoveEmptyBlocks:{let n=0,l=0,s=!1;null!=t.blockWithOnlyCommentsTreatAsEmpty&&null!=t.blockWithOnlyCommentsTreatAsEmpty&&(s=t.blockWithOnlyCommentsTreatAsEmpty);do{n++,l=0;let t=[e];for(;t.length>0;){let e=t.pop();if(null!=e.child)for(let n=e.child.length-1;n>=0;n--){let o=e.child[n];if(o.elementType==i.IScssElementType.block)if(null==o.child)e.child.splice(n,1),l++;else{let c=o.child.map((e=>e.elementType)).filter((e=>e==i.IScssElementType.multiLineComment||e==i.IScssElementType.oneLineComment)).length;o.child.length<=0||c==o.child.length&&s?(e.child.splice(n,1),l++):t.push(e.child[n])}else t.push(e.child[n])}}}while(l>0)}{let n=!1;if(null!=t.blockWithOnlyCommentsTreatAsEmpty&&null!=t.blockWithOnlyCommentsTreatAsEmpty&&(n=t.blockWithOnlyCommentsTreatAsEmpty),n&&null!=e.child&&null!=e.child&&e.child.map((e=>e.elementType)).map((e=>e==i.IScssElementType.multiLineComment||e==i.IScssElementType.oneLineComment)).reduce(((e,t)=>e&&t),!0)&&e.child.length>0)for(;e.child.length>0;)e.child.pop()}break;default:console.log(`Command ${t.commandType} not implemented`)}if(t.runCommandOnContentOfComment){let n=[e];for(;n.length>0;){let e=n.pop();switch(e.elementType){case i.IScssElementType.multiLineComment:case i.IScssElementType.oneLineComment:let n=e.text;n=o(n,t),e.text=n}null!=e.child&&null!=e.child&&e.child.forEach((e=>n.push(e)))}}}},22:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debug=t.Debug=void 0;const l=n(928),i=n(152);class s{constructor(){this._debugOutputDir=process.cwd(),this._debugEnabled=!1}set DebugOutputDir(e){this._debugOutputDir=e,this.CleanDebugDir()}get DebugOutputDir(){return this._debugOutputDir}DebugEnable(){this._debugEnabled=!0}CleanDebugDir(){i.utility.getFilesSync(this.DebugOutputDir).forEach((e=>{e.endsWith(".debug.json")&&i.utility.deleteFileSync((0,l.join)(this.DebugOutputDir,e),!0)}))}GetDebugOutPath(e){return(0,l.join)(this.DebugOutputDir,e)}SaveObjectAsJsonFile(e,t){this._debugEnabled&&i.utility.saveObjectAsJson(this.GetDebugOutPath(e+".debug.json"),t)}}t.Debug=s,t.debug=new s},168:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Functions=void 0;const l=n(22),i=n(169),s=n(152);class o{static findDifference(e,t){const n=Math.max(e.length,t.length),l=new Map;for(let i=0;i<n;i++){let n=" ",s=" ";i<e.length&&(n=e[i]),i<t.length&&(s=t[i]);let o=`${n}${s}`;if(n!=s){let e=l.get(o);null==e||null==e?e=1:e++,l.set(o,e)}}return l}static countCharacters(e,t){let n=0;for(let l of t)l==e&&n++;return n}static countCharactersMap(e,t){let n=new Map;for(let t of e)n.set(t,0);for(let l of t)if(e.includes(l)){let e=1+n.get(l);n.set(l,e)}return n}static compareScssFiles(e,t){let n=s.utility.loadFileText(e),l=s.utility.loadFileText(t);return o.compareScssStrings(n,l)}static probablySameScssStrings(e,t){const n=function(e){return e.split("\n").filter((e=>!e.trimStart().startsWith("//"))).join("\n").replace(/\s+/g,"")};let l=n(e),i=n(t),s=(l.length,i.length,["{","}",";"]),c=o.countCharactersMap(s,l),r=o.countCharactersMap(s,i),u=new Map,m=!1;for(let e of s){let t=c.get(e)-r.get(e);0!=t&&u.set(e,t)}if(u.size<=0)m=!0;else if(1==u.size){let e=[...u.keys()][0];";"==e?m=this.compareScssStrings(l.replace(/;/g,""),i.replace(/;/g,"")):(this.findDifference(l,i),console.log({sumKey:e,sumKeyCount:u.get(e)}))}else this.findDifference(l,i),console.log(u);return m}static compareScssStrings(e,t){return e.replace(/\s+/g,"")==t.replace(/\s+/g,"")}static scssConvertToObject(e){let t={content:e,child:[],elementType:i.IScssElementType.default},n=0;const o=function(e){if(null==e.content||null==e.content)return;e.child=[];let t=e.content;const o="IN_BLOCK",c="IN_ONELINECOMMENT",r="IN_MULTILINECOMMENT",u="IN_RULE",m="IN_NAME_RULE_OR_BLOCK",p="IN_INTERNAL_BLOCK",a="IN_INTERNAL_BLOCK_MULTILINECOMMENT";let h=[];h.push("OUT");let d="",y="",g="",f="",T={name:"",child:[],elementType:i.IScssElementType.block};for(let n=0;n<t.length;n++){let l=h[h.length-1],S=null;h.length>=2&&(S=h[h.length-2]);let C=t[n],E=t.substring(n);switch(l){case"OUT":if(s.utility.isWhitespace(C))continue;if(E.startsWith("/*")){n++,f="",h.push(r);continue}if(E.startsWith("//")){n++,f="",h.push(c);continue}d=C,h.push(m);break;case c:"\n"==C&&(h.pop(),e.child.push({text:f,elementType:i.IScssElementType.oneLineComment}),f=""),f+=C;break;case r:E.startsWith("*/")?(n++,h.pop(),e.child.push({text:f,elementType:i.IScssElementType.multiLineComment}),f=""):f+=C;break;case m:":"==C?(y=d,g="",h.pop(),h.push(u)):E.startsWith("#{")?(d+="#{",n++):"{"==C?(T.name=d,T.content="",T.child=[],d="",h.pop(),h.push(o)):";"==C?(e.child.push({name:d,elementType:i.IScssElementType.rule}),h.pop(),d=""):d+=C;break;case o:"{"==C?(h.push(p),T.content+=C):"}"==C?(h.pop(),e.child.push(JSON.parse(JSON.stringify(T)))):E.startsWith("/*")?(h.push(a),T.content+="/*",n++):(s.utility.isWhitespace(C),T.content+=C);break;case a:E.startsWith("*/")?(T.content+="*/",n++,h.pop()):T.content+=C;break;case p:T.content+=C,"{"==C?h.push(p):"}"==C&&h.pop();break;case u:";"==C?(e.child.push({name:y,value:g,elementType:i.IScssElementType.rule}),h.pop(),y="",g=""):E.startsWith("#{")?(g+="#{",n++):"{"==C?(T.name=y+":"+g,T.content="",T.child=[],d="",y="",g="",h.pop(),h.push(o)):E.trim().length<=0?(e.child.push({name:y,value:g,elementType:i.IScssElementType.rule}),h.pop(),y="",g=""):g+=C;break;default:console.log(`State not implemented: ${l}`)}}delete e.content,l.debug.SaveObjectAsJsonFile(`unpackContentFromIScss.${n}`,h)};let c=[t];for(;c.length>0;){let e=c.pop();o(e),null!=e.child&&null!=e.child&&e.child.forEach((e=>c.push(e))),l.debug.SaveObjectAsJsonFile(`scssConvertToObject.${n}`,t),n++}return t}static objectConvertToScss(e){let t=JSON.parse(JSON.stringify(e));if(null==t.child||null==t.child)return"";if(t.child.length<=0)return"";const n=function(e,t){let n=[e],l=0;for(;n.length>0;){let e=n.pop();if(null!=e.child&&null!=e.child){for(let n=e.child.length-1;n>=0;n--){let i=t(e,e.child[n]);!0===i||(!1===i?(l++,e.child.splice(n,1)):(l++,e.child.splice(n,1,i)))}for(let t of e.child)n.push(t)}}return l},l=function(e,t){switch(t.elementType){case i.IScssElementType.rule:{let e=t.name;return null==t.value&&null==t.value||(e+=":"+t.value),e+=";",{code:[e],elementType:i.IScssElementType.code}}case i.IScssElementType.oneLineComment:return{code:["// "+t.text],elementType:i.IScssElementType.code};case i.IScssElementType.multiLineComment:return{code:["/* "+t.text+" */"],elementType:i.IScssElementType.code};case i.IScssElementType.block:{let e=t.child;if(null==e||null==e)return{code:[t.name+"{}"],elementType:i.IScssElementType.code};if(e.length<=0)return{code:[t.name+"{}"],elementType:i.IScssElementType.code};if(1==e.length){let n=[];return n.push(t.name+"{"),e[0].elementType!=i.IScssElementType.code||(e[0].code.forEach((e=>n.push(`\t${e}`))),n.push("}"),{code:[...n],elementType:i.IScssElementType.code})}}}return!0},s=function(e,t){if(null!=e.child&&null!=e.child){if(e.child.length<=1)return!0;let t=[],n=!0;if(e.child.forEach((e=>{e.elementType==i.IScssElementType.code?t.push(...e.code):n=!1})),n)return e.child=[{code:t,elementType:i.IScssElementType.code}],!0}return!0};let o=1;for(;o>0;)o=0,o+=n(t,l),o+=n(t,s);return Object.keys(t).includes("code")?t.code.join("\n"):1==t.child.length&&t.child[0].elementType==i.IScssElementType.code?t.child[0].code.join("\n"):JSON.stringify(t,null,2)}}t.Functions=o},613:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0,t.logger=new class{constructor(){this.data=[]}log(e){this.data.push({msg:e})}printLogs(){this.data.forEach((e=>{console.log(e.msg)}))}flush(){this.data=[]}printLogsAndFlush(){this.printLogs(),this.flush()}}},152:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.utility=void 0;const l=n(896),i=n(928);t.utility={getFilesSync:function(e){try{return(0,l.readdirSync)(e).filter((t=>{const n=(0,i.join)(e,t);return(0,l.statSync)(n).isFile()}))}catch(e){return console.error("Error reading files:",e),[]}},getDirectoriesSync:function(e){try{return(0,l.readdirSync)(e).filter((t=>{const n=(0,i.join)(e,t);return(0,l.statSync)(n).isDirectory()}))}catch(e){return console.error("Error reading directories:",e),[]}},loadFileText:function(e){try{const t=(0,i.join)(process.cwd(),e);return(0,l.readFileSync)(t,"utf-8")}catch(e){return console.error("Error loading file:",e),""}},doesFileExist:function(e){const t=(0,i.join)(process.cwd(),e);return(0,l.existsSync)(t)},saveObjectAsJson:function(e,t){try{const n=(0,i.join)(process.cwd(),e),s=JSON.stringify(t,null,2);(0,l.writeFileSync)(n,s,"utf-8")}catch(e){console.error("Błąd podczas zapisywania pliku JSON:",e)}},saveString:function(e,t){try{const n=(0,i.join)(process.cwd(),e);(0,l.writeFileSync)(n,t,"utf-8")}catch(e){console.error("Błąd podczas zapisywania pliku:",e)}},isWhitespace:function(e){return/^\s$/.test(e)},createDirectoriesSync:function(e){let t=e.split("/"),n="";t.forEach((e=>{n=(0,i.join)(n,e),(0,l.existsSync)(n)||(0,l.mkdirSync)(n)}))},getDirectoryPath:function(e){const t=e.split(/[/\\]/);return t.pop(),t.join("/")},changeExtension:function(e,t){let n=e.split(".");return n.length>1&&(n[n.length-1]=t),n.join(".")},getExtension:function(e){let t=e.split(".");return t.length>1?t.pop():""},deleteDirectorySync:function(e){try{(0,l.rmSync)(e,{recursive:!0,force:!0}),console.log(`Katalog '${e}' został usunięty.`)}catch(e){console.error(`Nie udało się usunąć katalogu: ${e}`)}},deleteFileSync:function(e,t=!1){try{(0,l.rmSync)(e,{force:!0}),t||console.log(`Plik '${e}' został usunięty.`)}catch(e){console.error(`Nie udało się usunąć pliku: ${e}`)}}}},896:e=>{e.exports=require("fs")},928:e=>{e.exports=require("path")}},t={};function n(l){var i=t[l];if(void 0!==i)return i.exports;var s=t[l]={exports:{}};return e[l](s,s.exports,n),s.exports}(()=>{const e=n(152),t=n(928),l=n(168),i=n(613),s=n(884);function o(t,n,o){if(i.logger.flush(),i.logger.log(`Process file: ${t} -> ${n}`),!e.utility.doesFileExist(t))return i.logger.log(`In file ${t} does't exist`),void i.logger.printLogsAndFlush();let c=e.utility.loadFileText(t);e.utility.createDirectoriesSync(e.utility.getDirectoryPath(n));let r=l.Functions.scssConvertToObject(c),u=l.Functions.objectConvertToScss(r),m=l.Functions.compareScssStrings(c,u);if(m||(m=l.Functions.probablySameScssStrings(c,u)),i.logger.log("Is properly packed and unpacked scss: "+m),0==m){let t=e.utility.changeExtension(n,"fail.json");e.utility.saveObjectAsJson(t,r),i.logger.printLogsAndFlush(),e.utility.saveString(e.utility.changeExtension(n,"fail."+e.utility.getExtension(n)),u)}for(let e of o)(0,s.runCommand)(r,e);e.utility.changeExtension(n,".json");let p=l.Functions.objectConvertToScss(r);p.trim().length>0&&e.utility.saveString(n,p)}let c=null,r="scss_modder.json";if(e.utility.doesFileExist(r)||(console.log("Brak pliku scss_modder.json"),process.exit()),c=JSON.parse(e.utility.loadFileText(r)),Object.keys(c).includes("startDir")){let n=c;e.utility.doesFileExist(n.outputDir)&&e.utility.deleteDirectorySync(n.outputDir),n.startDir.endsWith("/")&&(n.startDir=n.startDir.substring(0,n.startDir.length-1));let l=["."];for(console.log(c);l.length>0;){let i=l.pop(),s=(0,t.join)(process.cwd(),n.startDir,i),c=e.utility.getFilesSync(s).filter((e=>e.endsWith(".css")||e.endsWith(".scss")));for(let e of c){let l=`${(0,t.join)(n.startDir,i,e)}`;l.startsWith(n.outputDir)||null!=n.excludePathFilesRegex&&null!=n.excludePathFilesRegex&&null!=l.match(new RegExp(n.excludePathFilesRegex))||o((0,t.join)(n.startDir,i,e),(0,t.join)(n.outputDir,i,e),n.commands)}let r=e.utility.getDirectoriesSync(s);for(let e of r)l.push((0,t.join)(i,e))}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVxQixTQUFTLFdBQ3pHLElBQUssSUFBSTZKLEtBQWFELEVBQVksQ0FDOUIsSUFBSUUsRUFBVyxJQUFHLElBQUE1SixNQUFLb0osRUFBa0JFLFNBQVNFLEVBQUlHLEtBQ25EQyxFQUFTek0sV0FBV2lNLEVBQWtCQyxZQUdLLE1BQTNDRCxFQUFrQlMsdUJBQTRFaE4sTUFBM0N1TSxFQUFrQlMsdUJBQ00sTUFBdkVELEVBQVNFLE1BQU0sSUFBSUMsT0FBT1gsRUFBa0JTLHlCQUtuRHJCLEdBQWUsSUFBQXhJLE1BQUtvSixFQUFrQkUsU0FBVUUsRUFBS0csSUFBWSxJQUFBM0osTUFBS29KLEVBQWtCQyxVQUFXRyxFQUFLRyxHQUFZUCxFQUFrQlQsU0FDMUksQ0FDQSxJQUFJcUIsRUFBbUIsRUFBQXJLLFFBQVF5RyxtQkFBbUJxRCxHQUNsRCxJQUFLLElBQUlRLEtBQVlELEVBRWpCVCxFQUFXbE0sTUFBSyxJQUFBMkMsTUFBS3dKLEVBQUtTLEdBRWxDLENBQ0osQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Njc3MtbW9kZGVyLy4vc3JjL2xpYi9tb2RlbC9JUnVuQ29uZmlnLnRzIiwid2VicGFjazovL3Njc3MtbW9kZGVyLy4vc3JjL2xpYi9tb2RlbC9JU2Nzcy50cyIsIndlYnBhY2s6Ly9zY3NzLW1vZGRlci8uL3NyYy9saWIvcnVuQ29tbWFuZC50cyIsIndlYnBhY2s6Ly9zY3NzLW1vZGRlci8uL3NyYy9saWIvc2VydmljZXMvRGVidWcudHMiLCJ3ZWJwYWNrOi8vc2Nzcy1tb2RkZXIvLi9zcmMvbGliL3NlcnZpY2VzL0Z1bmN0aW9ucy50cyIsIndlYnBhY2s6Ly9zY3NzLW1vZGRlci8uL3NyYy9saWIvc2VydmljZXMvTG9nZ2VyLnRzIiwid2VicGFjazovL3Njc3MtbW9kZGVyLy4vc3JjL2xpYi91dGlsaXR5LnRzIiwid2VicGFjazovL3Njc3MtbW9kZGVyL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJmc1wiIiwid2VicGFjazovL3Njc3MtbW9kZGVyL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJwYXRoXCIiLCJ3ZWJwYWNrOi8vc2Nzcy1tb2RkZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc2Nzcy1tb2RkZXIvLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgaW50ZXJmYWNlIElSdW5Db25maWdBYnN0cmFjdCB7XHJcbiAgICBjb21tYW5kczogQXJyYXk8SVJ1bkNvbmZpZ0NvbW1hbmQ+XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVJ1bkNvbmZpZ011bHRpcGxlRmlsZXMgZXh0ZW5kcyBJUnVuQ29uZmlnQWJzdHJhY3Qge1xyXG4gICAgc3RhcnREaXI6IHN0cmluZyxcclxuICAgIGV4Y2x1ZGVQYXRoRmlsZXNSZWdleD86IHN0cmluZ1xyXG4gICAgb3V0cHV0RGlyOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUnVuQ29uZmlnT25lRmlsZSBleHRlbmRzIElSdW5Db25maWdBYnN0cmFjdCB7XHJcbiAgICBzdGFydEZpbGU6IHN0cmluZyxcclxuICAgIG91dEZpbGU6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgZW51bSBJUnVuQ29uZmlnQ29tbWFuZFR5cGUge1xyXG4gICAgUmVtb3ZlUnVsZUJ5TmFtZSA9ICdSZW1vdmVSdWxlQnlOYW1lJyxcclxuICAgIFJlbW92ZUVtcHR5QmxvY2tzID0gJ1JlbW92ZUVtcHR5QmxvY2tzJyxcclxuICAgIFJlbW92ZUVtcHR5Q29tbWVudHMgPSAnUmVtb3ZlRW1wdHlDb21tZW50cycsXHJcbiAgICBDaGFuZ2VPbmVMaW5lQ29tbWVudHNUb011bHRpbGluZSA9ICdDaGFuZ2VPbmVMaW5lQ29tbWVudHNUb011bHRpbGluZScsXHJcbiAgICBSZW1vdmVDc3NWYXIgPSAnUmVtb3ZlQ3NzVmFyJyxcclxuICAgIENvbW1lbnRzQ29udGVudFRyaW0gPSAnQ29tbWVudHNDb250ZW50VHJpbSdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUnVuQ29uZmlnQ29tbWFuZEFic3RyYWN0IHtcclxuICAgIGNvbW1hbmRUeXBlOiBJUnVuQ29uZmlnQ29tbWFuZFR5cGUsXHJcbiAgICBydW5Db21tYW5kT25Db250ZW50T2ZDb21tZW50PzogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElSdW5Db25maWdDb21tYW5kX1JlbW92ZVJ1bGVCeU5hbWUgZXh0ZW5kcyBJUnVuQ29uZmlnQ29tbWFuZEFic3RyYWN0IHtcclxuICAgIHJ1bGVOYW1lOiBBcnJheTxzdHJpbmc+XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJUnVuQ29uZmlnQ29tbWFuZF9SZW1vdmVFbXB0eUJsb2NrcyBleHRlbmRzIElSdW5Db25maWdDb21tYW5kQWJzdHJhY3Qge1xyXG4gICAgYmxvY2tXaXRoT25seUNvbW1lbnRzVHJlYXRBc0VtcHR5PzogYm9vbGVhblxyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSVJ1bkNvbmZpZ0NvbW1hbmRfUmVtb3ZlRW1wdHlDb21tZW50cyBleHRlbmRzIElSdW5Db25maWdDb21tYW5kQWJzdHJhY3Qge1xyXG5cclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIElSdW5Db25maWdDb21tYW5kX0NoYW5nZU9uZUxpbmVDb21tZW50c1RvTXVsdGlsaW5lIGV4dGVuZHMgSVJ1bkNvbmZpZ0NvbW1hbmRBYnN0cmFjdCB7XHJcblxyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSVJ1bkNvbmZpZ0NvbW1hbmRfUmVtb3ZlQ3NzVmFyIGV4dGVuZHMgSVJ1bkNvbmZpZ0NvbW1hbmRBYnN0cmFjdCB7XHJcblxyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSVJ1bkNvbmZpZ0NvbW1hbmRfQ29tbWVudHNDb250ZW50VHJpbSBleHRlbmRzIElSdW5Db25maWdDb21tYW5kQWJzdHJhY3Qge1xyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCB0eXBlIElSdW5Db25maWdDb21tYW5kID0gXHJcbiAgICBJUnVuQ29uZmlnQ29tbWFuZF9SZW1vdmVSdWxlQnlOYW1lIHwgSVJ1bkNvbmZpZ0NvbW1hbmRfUmVtb3ZlRW1wdHlCbG9ja3MgfCBJUnVuQ29uZmlnQ29tbWFuZF9SZW1vdmVFbXB0eUNvbW1lbnRzIHxcclxuICAgIElSdW5Db25maWdDb21tYW5kX0NoYW5nZU9uZUxpbmVDb21tZW50c1RvTXVsdGlsaW5lIHwgSVJ1bkNvbmZpZ0NvbW1hbmRfUmVtb3ZlQ3NzVmFyIHwgSVJ1bkNvbmZpZ0NvbW1hbmRfQ29tbWVudHNDb250ZW50VHJpbTtcclxuZXhwb3J0IHR5cGUgSVJ1bkNvbmZpZyA9IElSdW5Db25maWdNdWx0aXBsZUZpbGVzIHwgSVJ1bkNvbmZpZ09uZUZpbGU7IiwiZXhwb3J0IGNvbnN0IElTY3NzRWxlbWVudFR5cGUgPSB7XHJcbiAgICBkZWZhdWx0OiBcIkRlZmF1bHRcIixcclxuICAgIHJ1bGU6IFwiUnVsZVwiLFxyXG4gICAgYmxvY2s6IFwiQmxvY2tcIixcclxuICAgIG9uZUxpbmVDb21tZW50OiBcIk9uZUxpbmVDb21tZW50XCIsXHJcbiAgICBtdWx0aUxpbmVDb21tZW50OiBcIk11bHRpTGluZUNvbW1lbnRcIixcclxuICAgIGNvZGU6IFwiQ29kZVwiXHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJU2Nzc0Fic3RyYWN0IHtcclxuICAgIGNvbnRlbnQ/OiBzdHJpbmdcclxuICAgIGNoaWxkPzogQXJyYXk8SVNjc3M+XHJcbiAgICBlbGVtZW50VHlwZTogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVNjc3NSdWxlIGV4dGVuZHMgSVNjc3NBYnN0cmFjdCB7XHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIHZhbHVlPzogc3RyaW5nXHJcbn1cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElTY3NzQmxvY2sgZXh0ZW5kcyBJU2Nzc0Fic3RyYWN0IHtcclxuICAgIG5hbWU6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElTY3NzQ29tbWVudCBleHRlbmRzIElTY3NzQWJzdHJhY3Qge1xyXG4gICAgdGV4dDogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVNjc3NDb2RlIGV4dGVuZHMgSVNjc3NBYnN0cmFjdCB7XHJcbiAgICBjb2RlOiBBcnJheTxzdHJpbmc+XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIElTY3NzID0gSVNjc3NBYnN0cmFjdCB8IElTY3NzUnVsZSB8IElTY3NzQmxvY2sgfCBJU2Nzc0NvbW1lbnQgfCBJU2Nzc0NvZGU7IiwiaW1wb3J0IHsgSVJ1bkNvbmZpZ0NvbW1hbmQsIElSdW5Db25maWdDb21tYW5kX1JlbW92ZUVtcHR5QmxvY2tzLCBJUnVuQ29uZmlnQ29tbWFuZF9SZW1vdmVSdWxlQnlOYW1lLCBJUnVuQ29uZmlnQ29tbWFuZFR5cGUgfSBmcm9tIFwiLi9tb2RlbC9JUnVuQ29uZmlnXCI7XHJcbmltcG9ydCB7IElTY3NzLCBJU2Nzc0NvbW1lbnQsIElTY3NzRWxlbWVudFR5cGUsIElTY3NzUnVsZSB9IGZyb20gXCIuL21vZGVsL0lTY3NzXCI7XHJcbmltcG9ydCB7IEZ1bmN0aW9ucyB9IGZyb20gXCIuL3NlcnZpY2VzL0Z1bmN0aW9uc1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyeVJ1bkNvbW1hbmRzT25Db21tZW50KHN0eWxlU3RyaW5nOiBzdHJpbmcsIGNvbW1hbmQ6IElSdW5Db25maWdDb21tYW5kKTogc3RyaW5nIHtcclxuICAgIGxldCBpblN0cmluZyA9IHN0eWxlU3RyaW5nO1xyXG4gICAgbGV0IGRhdGEgPSBGdW5jdGlvbnMuc2Nzc0NvbnZlcnRUb09iamVjdChpblN0cmluZyk7XHJcbiAgICBsZXQgb3JpZ091dFN0cmluZyA9IEZ1bmN0aW9ucy5vYmplY3RDb252ZXJ0VG9TY3NzKGRhdGEpO1xyXG4gICAgaWYoIUZ1bmN0aW9ucy5jb21wYXJlU2Nzc1N0cmluZ3MoaW5TdHJpbmcsb3JpZ091dFN0cmluZykpIHtcclxuICAgICAgICByZXR1cm4gaW5TdHJpbmc7XHJcbiAgICB9XHJcbiAgICBsZXQgY3BDb21tYW5kOiBJUnVuQ29uZmlnQ29tbWFuZCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY29tbWFuZCkpO1xyXG4gICAgY3BDb21tYW5kLnJ1bkNvbW1hbmRPbkNvbnRlbnRPZkNvbW1lbnQgPSBmYWxzZTtcclxuICAgIHJ1bkNvbW1hbmQoZGF0YSwgY3BDb21tYW5kKTtcclxuICAgIHJldHVybiBGdW5jdGlvbnMub2JqZWN0Q29udmVydFRvU2NzcyhkYXRhKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcnVuQ29tbWFuZChkYXRhOiBJU2NzcywgY29tbWFuZDogSVJ1bkNvbmZpZ0NvbW1hbmQpIHtcclxuICAgIHN3aXRjaCAoY29tbWFuZC5jb21tYW5kVHlwZSkge1xyXG4gICAgICAgIGNhc2UgSVJ1bkNvbmZpZ0NvbW1hbmRUeXBlLlJlbW92ZUNzc1ZhcjpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0YWNrOiBBcnJheTxJU2Nzcz4gPSBbZGF0YV07XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50Tm9kZTogSVNjc3MgPSBzdGFjay5wb3AoKSBhcyBJU2NzcztcclxuICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50Tm9kZS5jaGlsZCAhPSBudWxsICYmIGN1cnJlbnROb2RlLmNoaWxkICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpQ2hpbGQgPSBjdXJyZW50Tm9kZS5jaGlsZC5sZW5ndGggLSAxOyBpQ2hpbGQgPj0gMDsgaUNoaWxkLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGN1cnJlbnROb2RlLmNoaWxkW2lDaGlsZF0uZWxlbWVudFR5cGUgPT0gSVNjc3NFbGVtZW50VHlwZS5ydWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzY3NzUnVsZUNoaWxkOiBJU2Nzc1J1bGUgPSBjdXJyZW50Tm9kZS5jaGlsZFtpQ2hpbGRdIGFzIElTY3NzUnVsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpc2Nzc1J1bGVDaGlsZC52YWx1ZSAhPSBudWxsICYmIGlzY3NzUnVsZUNoaWxkICE9IHVuZGVmaW5lZCAmJiBpc2Nzc1J1bGVDaGlsZC5uYW1lLnN0YXJ0c1dpdGgoJy0tJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUuY2hpbGQuc3BsaWNlKGlDaGlsZCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGN1cnJlbnROb2RlLmNoaWxkW2lDaGlsZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgSVJ1bkNvbmZpZ0NvbW1hbmRUeXBlLkNvbW1lbnRzQ29udGVudFRyaW06XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCBzdGFjazogQXJyYXk8SVNjc3M+ID0gW2RhdGFdO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudE5vZGU6IElTY3NzID0gc3RhY2sucG9wKCkgYXMgSVNjc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudE5vZGUuY2hpbGQgIT0gbnVsbCAmJiBjdXJyZW50Tm9kZS5jaGlsZCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaUNoaWxkID0gY3VycmVudE5vZGUuY2hpbGQubGVuZ3RoIC0gMTsgaUNoaWxkID49IDA7IGlDaGlsZC0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5jaGlsZFtpQ2hpbGRdLmVsZW1lbnRUeXBlID09IElTY3NzRWxlbWVudFR5cGUub25lTGluZUNvbW1lbnQgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5jaGlsZFtpQ2hpbGRdLmVsZW1lbnRUeXBlID09IElTY3NzRWxlbWVudFR5cGUubXVsdGlMaW5lQ29tbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnROb2RlLmNoaWxkW2lDaGlsZF0gYXMgSVNjc3NDb21tZW50KS50ZXh0ID0gKGN1cnJlbnROb2RlLmNoaWxkW2lDaGlsZF0gYXMgSVNjc3NDb21tZW50KS50ZXh0LnRyaW0oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChjdXJyZW50Tm9kZS5jaGlsZFtpQ2hpbGRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIElSdW5Db25maWdDb21tYW5kVHlwZS5DaGFuZ2VPbmVMaW5lQ29tbWVudHNUb011bHRpbGluZTpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0YWNrOiBBcnJheTxJU2Nzcz4gPSBbZGF0YV07XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50Tm9kZTogSVNjc3MgPSBzdGFjay5wb3AoKSBhcyBJU2NzcztcclxuICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50Tm9kZS5jaGlsZCAhPSBudWxsICYmIGN1cnJlbnROb2RlLmNoaWxkICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tbWVudFRleHQ6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlRW5kOiBudW1iZXIgPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlbW92ZVN0YXJ0OiBudW1iZXIgPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaUNoaWxkID0gY3VycmVudE5vZGUuY2hpbGQubGVuZ3RoIC0gMTsgaUNoaWxkID49IDA7IGlDaGlsZC0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goY3VycmVudE5vZGUuY2hpbGRbaUNoaWxkXS5lbGVtZW50VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgSVNjc3NFbGVtZW50VHlwZS5vbmVMaW5lQ29tbWVudDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVtb3ZlRW5kID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbmQgPSBpQ2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVTdGFydCA9IGlDaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50VGV4dCA9IChjdXJyZW50Tm9kZS5jaGlsZFtpQ2hpbGRdIGFzIElTY3NzQ29tbWVudCkudGV4dCArIGBcXG5gICsgY29tbWVudFRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlbW92ZVN0YXJ0ICE9IC0xICYmIHJlbW92ZUVuZCAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluc2VydDogSVNjc3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFR5cGU6IElTY3NzRWxlbWVudFR5cGUubXVsdGlMaW5lQ29tbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBjb21tZW50VGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLmNoaWxkLnNwbGljZShyZW1vdmVTdGFydCwgcmVtb3ZlRW5kLXJlbW92ZVN0YXJ0LCBpbnNlcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVN0YXJ0ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUVuZCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50VGV4dCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVtb3ZlU3RhcnQgIT0gLTEgJiYgcmVtb3ZlRW5kICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0OiBJU2NzcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50VHlwZTogSVNjc3NFbGVtZW50VHlwZS5tdWx0aUxpbmVDb21tZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGNvbW1lbnRUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUuY2hpbGQuc3BsaWNlKHJlbW92ZVN0YXJ0LCByZW1vdmVFbmQtcmVtb3ZlU3RhcnQsIGluc2VydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGlDaGlsZCA9IGN1cnJlbnROb2RlLmNoaWxkLmxlbmd0aCAtIDE7IGlDaGlsZCA+PSAwOyBpQ2hpbGQtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKGN1cnJlbnROb2RlLmNoaWxkW2lDaGlsZF0uZWxlbWVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIElTY3NzRWxlbWVudFR5cGUub25lTGluZUNvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBJU2Nzc0VsZW1lbnRUeXBlLm11bHRpTGluZUNvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goY3VycmVudE5vZGUuY2hpbGRbaUNoaWxkXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgSVJ1bkNvbmZpZ0NvbW1hbmRUeXBlLlJlbW92ZUVtcHR5Q29tbWVudHM6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCBzdGFjazogQXJyYXk8SVNjc3M+ID0gW2RhdGFdO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudE5vZGU6IElTY3NzID0gc3RhY2sucG9wKCkgYXMgSVNjc3M7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Tm9kZS5jaGlsZCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGlDaGlsZCA9IGN1cnJlbnROb2RlLmNoaWxkLmxlbmd0aCAtIDE7IGlDaGlsZCA+PSAwOyBpQ2hpbGQtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlLmNoaWxkW2lDaGlsZF0uZWxlbWVudFR5cGUgPT0gSVNjc3NFbGVtZW50VHlwZS5vbmVMaW5lQ29tbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4ID0gKGN1cnJlbnROb2RlLmNoaWxkW2lDaGlsZF0gYXMgSVNjc3NDb21tZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih4LnRleHQudHJpbSgpID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLmNoaWxkLnNwbGljZShpQ2hpbGQsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnROb2RlLmNoaWxkW2lDaGlsZF0uZWxlbWVudFR5cGUgPT0gSVNjc3NFbGVtZW50VHlwZS5tdWx0aUxpbmVDb21tZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHggPSAoY3VycmVudE5vZGUuY2hpbGRbaUNoaWxkXSBhcyBJU2Nzc0NvbW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHgudGV4dC50cmltKCkgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUuY2hpbGQuc3BsaWNlKGlDaGlsZCwgMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGN1cnJlbnROb2RlLmNoaWxkW2lDaGlsZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgSVJ1bkNvbmZpZ0NvbW1hbmRUeXBlLlJlbW92ZVJ1bGVCeU5hbWU6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCBzdGFjazogQXJyYXk8SVNjc3M+ID0gW2RhdGFdO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudE5vZGU6IElTY3NzID0gc3RhY2sucG9wKCkgYXMgSVNjc3M7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Tm9kZS5jaGlsZCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGlDaGlsZCA9IGN1cnJlbnROb2RlLmNoaWxkLmxlbmd0aCAtIDE7IGlDaGlsZCA+PSAwOyBpQ2hpbGQtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlLmNoaWxkW2lDaGlsZF0uZWxlbWVudFR5cGUgPT0gSVNjc3NFbGVtZW50VHlwZS5ydWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChjb21tYW5kIGFzIElSdW5Db25maWdDb21tYW5kX1JlbW92ZVJ1bGVCeU5hbWUpLnJ1bGVOYW1lLmluY2x1ZGVzKChjdXJyZW50Tm9kZS5jaGlsZFtpQ2hpbGRdIGFzIElTY3NzUnVsZSkubmFtZS50cmltKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLmNoaWxkLnNwbGljZShpQ2hpbGQsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGN1cnJlbnROb2RlLmNoaWxkW2lDaGlsZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgSVJ1bkNvbmZpZ0NvbW1hbmRUeXBlLlJlbW92ZUVtcHR5QmxvY2tzOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlcmF0aW9ucyA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgZG9uZU9wZXJhdGlvbnMgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGJsb2NrV2l0aE9ubHlDb21tZW50c1RyZWF0QXNFbXB0eTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKChjb21tYW5kIGFzIElSdW5Db25maWdDb21tYW5kX1JlbW92ZUVtcHR5QmxvY2tzKS5ibG9ja1dpdGhPbmx5Q29tbWVudHNUcmVhdEFzRW1wdHkgIT0gbnVsbCAmJiAoY29tbWFuZCBhcyBJUnVuQ29uZmlnQ29tbWFuZF9SZW1vdmVFbXB0eUJsb2NrcykuYmxvY2tXaXRoT25seUNvbW1lbnRzVHJlYXRBc0VtcHR5ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrV2l0aE9ubHlDb21tZW50c1RyZWF0QXNFbXB0eSA9IChjb21tYW5kIGFzIElSdW5Db25maWdDb21tYW5kX1JlbW92ZUVtcHR5QmxvY2tzKS5ibG9ja1dpdGhPbmx5Q29tbWVudHNUcmVhdEFzRW1wdHkgYXMgYm9vbGVhbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVyYXRpb25zKys7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZU9wZXJhdGlvbnMgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RhY2s6IEFycmF5PElTY3NzPiA9IFtkYXRhXTtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudE5vZGU6IElTY3NzID0gc3RhY2sucG9wKCkgYXMgSVNjc3M7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudE5vZGUuY2hpbGQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaUNoaWxkID0gY3VycmVudE5vZGUuY2hpbGQubGVuZ3RoIC0gMTsgaUNoaWxkID49IDA7IGlDaGlsZC0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRDaGlsZE5vZGU6IElTY3NzID0gY3VycmVudE5vZGUuY2hpbGRbaUNoaWxkXSBhcyBJU2NzcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoaWxkTm9kZS5lbGVtZW50VHlwZSA9PSBJU2Nzc0VsZW1lbnRUeXBlLmJsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q2hpbGROb2RlLmNoaWxkID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLmNoaWxkLnNwbGljZShpQ2hpbGQsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZU9wZXJhdGlvbnMrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb3VudENoaWxkc09mQ2hpbGRzQ29tbWVudHMgPSBjdXJyZW50Q2hpbGROb2RlLmNoaWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCh2ID0+IHYuZWxlbWVudFR5cGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcih2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh2ID09IElTY3NzRWxlbWVudFR5cGUubXVsdGlMaW5lQ29tbWVudCkgfHwgKHYgPT0gSVNjc3NFbGVtZW50VHlwZS5vbmVMaW5lQ29tbWVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoaWxkTm9kZS5jaGlsZC5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLmNoaWxkLnNwbGljZShpQ2hpbGQsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZU9wZXJhdGlvbnMrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKGNvdW50Q2hpbGRzT2ZDaGlsZHNDb21tZW50cyA9PSBjdXJyZW50Q2hpbGROb2RlLmNoaWxkLmxlbmd0aCkgJiYgYmxvY2tXaXRoT25seUNvbW1lbnRzVHJlYXRBc0VtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUuY2hpbGQuc3BsaWNlKGlDaGlsZCwgMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lT3BlcmF0aW9ucysrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGN1cnJlbnROb2RlLmNoaWxkW2lDaGlsZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChjdXJyZW50Tm9kZS5jaGlsZFtpQ2hpbGRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoZG9uZU9wZXJhdGlvbnMgPiAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgQ29tbWFuZCAke2NvbW1hbmQuY29tbWFuZFR5cGV9LCBpdGVyYXRpb25zOiAke2l0ZXJhdGlvbnN9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGV0IGJsb2NrV2l0aE9ubHlDb21tZW50c1RyZWF0QXNFbXB0eTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKChjb21tYW5kIGFzIElSdW5Db25maWdDb21tYW5kX1JlbW92ZUVtcHR5QmxvY2tzKS5ibG9ja1dpdGhPbmx5Q29tbWVudHNUcmVhdEFzRW1wdHkgIT0gbnVsbCAmJiAoY29tbWFuZCBhcyBJUnVuQ29uZmlnQ29tbWFuZF9SZW1vdmVFbXB0eUJsb2NrcykuYmxvY2tXaXRoT25seUNvbW1lbnRzVHJlYXRBc0VtcHR5ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrV2l0aE9ubHlDb21tZW50c1RyZWF0QXNFbXB0eSA9IChjb21tYW5kIGFzIElSdW5Db25maWdDb21tYW5kX1JlbW92ZUVtcHR5QmxvY2tzKS5ibG9ja1dpdGhPbmx5Q29tbWVudHNUcmVhdEFzRW1wdHkgYXMgYm9vbGVhbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKGJsb2NrV2l0aE9ubHlDb21tZW50c1RyZWF0QXNFbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuY2hpbGQhPW51bGwgJiYgZGF0YS5jaGlsZCE9dW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4ID0gZGF0YS5jaGlsZC5tYXAoIHYgPT4gdi5lbGVtZW50VHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNBbGxDb21tZW50T3JFbXB0eSA9IHgubWFwKHYgPT4gKHYgPT0gSVNjc3NFbGVtZW50VHlwZS5tdWx0aUxpbmVDb21tZW50IHx8IHYgPT0gSVNjc3NFbGVtZW50VHlwZS5vbmVMaW5lQ29tbWVudCkpLnJlZHVjZSggKHAsIGMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAocCAmJiBjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzQWxsQ29tbWVudE9yRW1wdHkgJiYgZGF0YS5jaGlsZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShkYXRhLmNoaWxkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNoaWxkLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDb21tYW5kICR7Y29tbWFuZC5jb21tYW5kVHlwZX0gbm90IGltcGxlbWVudGVkYCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKGNvbW1hbmQucnVuQ29tbWFuZE9uQ29udGVudE9mQ29tbWVudCkge1xyXG4gICAgICAgIGxldCBzdGFjazogQXJyYXk8SVNjc3M+ID0gW2RhdGFdO1xyXG4gICAgICAgIHdoaWxlKHN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGN1cnIgPSBzdGFjay5wb3AoKSBhcyBJU2NzcztcclxuICAgICAgICAgICAgc3dpdGNoKGN1cnIuZWxlbWVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgSVNjc3NFbGVtZW50VHlwZS5tdWx0aUxpbmVDb21tZW50OlxyXG4gICAgICAgICAgICAgICAgY2FzZSBJU2Nzc0VsZW1lbnRUeXBlLm9uZUxpbmVDb21tZW50OlxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gKGN1cnIgYXMgSVNjc3NDb21tZW50KS50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB0cnlSdW5Db21tYW5kc09uQ29tbWVudCh0ZXh0LCBjb21tYW5kKTtcclxuICAgICAgICAgICAgICAgICAgICAoY3VyciBhcyBJU2Nzc0NvbW1lbnQpLnRleHQgPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGN1cnIuY2hpbGQgIT0gbnVsbCAmJiBjdXJyLmNoaWxkICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgY3Vyci5jaGlsZC5mb3JFYWNoKCBjID0+IHN0YWNrLnB1c2goYykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgam9pbiB9IGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgeyB1dGlsaXR5IH0gZnJvbSAnLi4vdXRpbGl0eSc7XHJcblxyXG5leHBvcnQgY2xhc3MgRGVidWcge1xyXG4gICAgcHJvdGVjdGVkIF9kZWJ1Z091dHB1dERpcjogc3RyaW5nID0gcHJvY2Vzcy5jd2QoKTtcclxuICAgIHByb3RlY3RlZCBfZGVidWdFbmFibGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgc2V0IERlYnVnT3V0cHV0RGlyKHZhbHVlOiBzdHJpbmcpIHsgXHJcbiAgICAgICAgdGhpcy5fZGVidWdPdXRwdXREaXIgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLkNsZWFuRGVidWdEaXIoKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgRGVidWdPdXRwdXREaXIoKTogc3RyaW5nIHsgXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlYnVnT3V0cHV0RGlyO1xyXG4gICAgfVxyXG4gICAgcHVibGljIERlYnVnRW5hYmxlKCkgeyBcclxuICAgICAgICB0aGlzLl9kZWJ1Z0VuYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIENsZWFuRGVidWdEaXIoKSB7XHJcbiAgICAgICAgdXRpbGl0eS5nZXRGaWxlc1N5bmModGhpcy5EZWJ1Z091dHB1dERpcikuZm9yRWFjaCggKGZpbGUpID0+IHtcclxuICAgICAgICAgICAgaWYoZmlsZS5lbmRzV2l0aChcIi5kZWJ1Zy5qc29uXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsaXR5LmRlbGV0ZUZpbGVTeW5jKGpvaW4odGhpcy5EZWJ1Z091dHB1dERpciwgZmlsZSksdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgR2V0RGVidWdPdXRQYXRoKGZpbGVwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBqb2luKHRoaXMuRGVidWdPdXRwdXREaXIsIGZpbGVwYXRoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgU2F2ZU9iamVjdEFzSnNvbkZpbGUobmFtZTogc3RyaW5nLCBkYXRhOiBhbnkpIHtcclxuICAgICAgICBpZih0aGlzLl9kZWJ1Z0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgdXRpbGl0eS5zYXZlT2JqZWN0QXNKc29uKHRoaXMuR2V0RGVidWdPdXRQYXRoKG5hbWUrXCIuZGVidWcuanNvblwiKSxkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBkZWJ1ZzogRGVidWcgPSBuZXcgRGVidWcoKTsiLCJpbXBvcnQgeyBEZWJ1ZywgZGVidWcgfSBmcm9tIFwiLi9EZWJ1Z1wiO1xyXG5pbXBvcnQgeyBJU2Nzc0VsZW1lbnRUeXBlLCBJU2NzcywgSVNjc3NCbG9jaywgSVNjc3NDb2RlLCBJU2Nzc0NvbW1lbnQsIElTY3NzUnVsZSB9IGZyb20gXCIuLi9tb2RlbC9JU2Nzc1wiO1xyXG5pbXBvcnQgeyB1dGlsaXR5IH0gZnJvbSBcIi4uL3V0aWxpdHlcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGdW5jdGlvbnMge1xyXG4gICAgcHVibGljIHN0YXRpYyBmaW5kRGlmZmVyZW5jZShzdHJpbmdBOiBzdHJpbmcsIGNoYW5nZWRTdHJpbmc6IHN0cmluZyk6IE1hcDxzdHJpbmcsIG51bWJlcj4ge1xyXG4gICAgICAgIGNvbnN0IG1heExlbmd0aCA9IE1hdGgubWF4KHN0cmluZ0EubGVuZ3RoLCBjaGFuZ2VkU3RyaW5nLmxlbmd0aCk7XHJcbiAgICAgICAgY29uc3QgZGlmZmVyZW5jZXM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xyXG5cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgY2hhckEgPSAnICc7XHJcbiAgICAgICAgICAgIGxldCBjaGFyQiA9ICcgJztcclxuICAgICAgICAgICAgaWYgKGkgPCBzdHJpbmdBLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY2hhckEgPSBzdHJpbmdBW2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpIDwgY2hhbmdlZFN0cmluZy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJCID0gY2hhbmdlZFN0cmluZ1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQga2V5ID0gYCR7Y2hhckF9JHtjaGFyQn1gO1xyXG4gICAgICAgICAgICBpZiAoY2hhckEgIT0gY2hhckIpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2ID0gZGlmZmVyZW5jZXMuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodiA9PSB1bmRlZmluZWQgfHwgdiA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdiA9IDE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHYrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRpZmZlcmVuY2VzLnNldChrZXksIHYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGlmZmVyZW5jZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjb3VudENoYXJhY3RlcnMoY2hhcjogc3RyaW5nLCBzdHI6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IHJlc3VsdDogbnVtYmVyID0gMDtcclxuICAgICAgICBmb3IgKGxldCBjIG9mIHN0cikge1xyXG4gICAgICAgICAgICBpZiAoYyA9PSBjaGFyKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBjb3VudENoYXJhY3RlcnNNYXAoY2hhcnM6IEFycmF5PHN0cmluZz4sIHN0cjogc3RyaW5nKTogTWFwPHN0cmluZywgbnVtYmVyPiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdDogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XHJcbiAgICAgICAgZm9yIChsZXQgY2hhciBvZiBjaGFycykge1xyXG4gICAgICAgICAgICByZXN1bHQuc2V0KGNoYXIsIDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgYyBvZiBzdHIpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJzLmluY2x1ZGVzKGMpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdiA9IDEgKyAocmVzdWx0LmdldChjKSBhcyBudW1iZXIpO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnNldChjLCB2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY29tcGFyZVNjc3NGaWxlcyhmaWxlUGF0aEE6IHN0cmluZywgZmlsZVBhdGhCOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgZmlsZUEgPSB1dGlsaXR5LmxvYWRGaWxlVGV4dChmaWxlUGF0aEEpO1xyXG4gICAgICAgIGxldCBmaWxlQiA9IHV0aWxpdHkubG9hZEZpbGVUZXh0KGZpbGVQYXRoQik7XHJcbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9ucy5jb21wYXJlU2Nzc1N0cmluZ3MoZmlsZUEsIGZpbGVCKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcHJvYmFibHlTYW1lU2Nzc1N0cmluZ3Moc3RyaW5nQTogc3RyaW5nLCBzdHJpbmdCOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBwcmVwcm9jZXNTdHJpbmcgPSBmdW5jdGlvbiAoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RyXHJcbiAgICAgICAgICAgICAgICAuc3BsaXQoYFxcbmApLy9TcGxpdCB0ZXh0IHRvIGxpbmVzXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGwgPT4gIWwudHJpbVN0YXJ0KCkuc3RhcnRzV2l0aCgnLy8nKSkvL1JlbW92ZSBsaW5lcyBzdGFydHMgbGlrZSAvL1xyXG4gICAgICAgICAgICAgICAgLmpvaW4oYFxcbmApLy9Kb2ludCBsaW5lcyBpbnRvIG9uZSBzdHJpbmdcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiXCIpOy8vUmVtb3ZlIHdoaXRlc3BhY2VzXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBmaWxlQSA9IHByZXByb2Nlc1N0cmluZyhzdHJpbmdBKTtcclxuICAgICAgICBsZXQgZmlsZUIgPSBwcmVwcm9jZXNTdHJpbmcoc3RyaW5nQik7XHJcbiAgICAgICAgbGV0IGRpZmZDb3VudCA9IGZpbGVBLmxlbmd0aCAtIGZpbGVCLmxlbmd0aDtcclxuICAgICAgICBsZXQgY2hhcnNUb0NvdW50ID0gWyd7JywgJ30nLCAnOyddO1xyXG4gICAgICAgIGxldCBhQ291bnQgPSBGdW5jdGlvbnMuY291bnRDaGFyYWN0ZXJzTWFwKGNoYXJzVG9Db3VudCwgZmlsZUEpO1xyXG4gICAgICAgIGxldCBiQ291bnQgPSBGdW5jdGlvbnMuY291bnRDaGFyYWN0ZXJzTWFwKGNoYXJzVG9Db3VudCwgZmlsZUIpO1xyXG4gICAgICAgIGxldCBzdW1Db3VudDogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAobGV0IGMgb2YgY2hhcnNUb0NvdW50KSB7XHJcbiAgICAgICAgICAgIGxldCBzdW06IG51bWJlciA9IChhQ291bnQuZ2V0KGMpIGFzIG51bWJlcikgLSAoYkNvdW50LmdldChjKSBhcyBudW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAoc3VtICE9IDApIHtcclxuICAgICAgICAgICAgICAgIHN1bUNvdW50LnNldChjLCBzdW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdW1Db3VudC5zaXplIDw9IDApIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc3VtQ291bnQuc2l6ZSA9PSAxKSB7XHJcbiAgICAgICAgICAgIGxldCBzdW1LZXkgPSBbLi4uc3VtQ291bnQua2V5cygpXVswXTtcclxuICAgICAgICAgICAgaWYgKHN1bUtleSA9PSAnOycpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuY29tcGFyZVNjc3NTdHJpbmdzKGZpbGVBLnJlcGxhY2UoLzsvZywgXCJcIiksIGZpbGVCLnJlcGxhY2UoLzsvZywgXCJcIikpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRpZmYgPSB0aGlzLmZpbmREaWZmZXJlbmNlKGZpbGVBLCBmaWxlQik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh7IHN1bUtleSwgc3VtS2V5Q291bnQ6IHN1bUNvdW50LmdldChzdW1LZXkpIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgZGlmZiA9IHRoaXMuZmluZERpZmZlcmVuY2UoZmlsZUEsIGZpbGVCKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coc3VtQ291bnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZighcmVzdWx0KSB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHtzdHJpbmdBfSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGNvbXBhcmVTY3NzU3RyaW5ncyhzdHJpbmdBOiBzdHJpbmcsIHN0cmluZ0I6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cclxuICAgICAgICBsZXQgZmlsZUEgPSBzdHJpbmdBLnJlcGxhY2UoL1xccysvZywgXCJcIik7XHJcbiAgICAgICAgbGV0IGZpbGVCID0gc3RyaW5nQi5yZXBsYWNlKC9cXHMrL2csIFwiXCIpO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSAoZmlsZUEgPT0gZmlsZUIpO1xyXG4gICAgICAgIC8vIGlmICghcmVzdWx0KSB7XHJcbiAgICAgICAgLy8gICAgIGxldCB4ID0gZmluZERpZmZlcmVuY2UoZmlsZUEsIGZpbGVCKTtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coeyBkaWZmOiB4IH0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBzY3NzQ29udmVydFRvT2JqZWN0KHNjc3NTdHJpbmc6IHN0cmluZyk6IElTY3NzIHtcclxuICAgICAgICBsZXQgZGF0YTogSVNjc3MgPSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHNjc3NTdHJpbmcsXHJcbiAgICAgICAgICAgIGNoaWxkOiBbXSxcclxuICAgICAgICAgICAgZWxlbWVudFR5cGU6IElTY3NzRWxlbWVudFR5cGUuZGVmYXVsdFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCBpdGVyYXRpb25zID0gMDtcclxuICAgICAgICBjb25zdCB1bnBhY2tDb250ZW50RnJvbUlTY3NzID0gZnVuY3Rpb24gKGRhdGFPYmplY3Q6IElTY3NzKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoZGF0YU9iamVjdC5jb250ZW50ID09IG51bGwgfHwgZGF0YU9iamVjdC5jb250ZW50ID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRhdGFPYmplY3QuY2hpbGQgPSBbXTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coeyBkYXRhT2JqZWN0IH0pO1xyXG4gICAgICAgICAgICBsZXQgY29udGVudCA9IGRhdGFPYmplY3QuY29udGVudDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IElOX0JMT0NLID0gXCJJTl9CTE9DS1wiO1xyXG4gICAgICAgICAgICBjb25zdCBJTl9PTkVMSU5FQ09NTUVOVCA9IFwiSU5fT05FTElORUNPTU1FTlRcIjtcclxuICAgICAgICAgICAgY29uc3QgSU5fTVVMVElMSU5FQ09NTUVOVCA9IFwiSU5fTVVMVElMSU5FQ09NTUVOVFwiO1xyXG4gICAgICAgICAgICBjb25zdCBPVVQgPSBcIk9VVFwiO1xyXG4gICAgICAgICAgICBjb25zdCBJTl9SVUxFID0gXCJJTl9SVUxFXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IElOX05BTUVfUlVMRV9PUl9CTE9DSyA9IFwiSU5fTkFNRV9SVUxFX09SX0JMT0NLXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IElOX0lOVEVSTkFMX0JMT0NLID0gXCJJTl9JTlRFUk5BTF9CTE9DS1wiO1xyXG4gICAgICAgICAgICBjb25zdCBJTl9JTlRFUk5BTF9CTE9DS19NVUxUSUxJTkVDT01NRU5UID0gXCJJTl9JTlRFUk5BTF9CTE9DS19NVUxUSUxJTkVDT01NRU5UXCI7XHJcblxyXG4gICAgICAgICAgICBsZXQgc3RhdGU6IEFycmF5PHN0cmluZz4gPSBbXTtcclxuICAgICAgICAgICAgc3RhdGUucHVzaChPVVQpO1xyXG4gICAgICAgICAgICBsZXQgbmFtZV9ydWxlX29yX2Jsb2NrOiBzdHJpbmcgPSAnJztcclxuICAgICAgICAgICAgbGV0IG5hbWVfcnVsZTogc3RyaW5nID0gJyc7XHJcbiAgICAgICAgICAgIGxldCBydWxlX3ZhbHVlOiBzdHJpbmcgPSAnJztcclxuICAgICAgICAgICAgbGV0IGNvbW1lbnQ6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICBsZXQgYmxvY2tJU2NzczogSVNjc3NCbG9jayA9IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBjaGlsZDogW10sXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50VHlwZTogSVNjc3NFbGVtZW50VHlwZS5ibG9ja1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4Q2hhcmFjdGVyID0gMDsgaW5kZXhDaGFyYWN0ZXIgPCBjb250ZW50Lmxlbmd0aDsgaW5kZXhDaGFyYWN0ZXIrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RTdGF0ZSA9IHN0YXRlW3N0YXRlLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgbGV0IHByZXZpb3VzU3RhdGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNTdGF0ZSA9IHN0YXRlW3N0YXRlLmxlbmd0aCAtIDJdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRDaGFyYWN0ZXIgPSBjb250ZW50W2luZGV4Q2hhcmFjdGVyXTtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50VGV4dCA9IGNvbnRlbnQuc3Vic3RyaW5nKGluZGV4Q2hhcmFjdGVyKTtcclxuICAgICAgICAgICAgICAgIC8vIHN3aXRjaChsYXN0U3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBjYXNlIElOX0lOVEVSTkFMX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIC8vICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhgJHtwcmV2aW91c1N0YXRlfSAtICR7bGFzdFN0YXRlfSB8ICR7Y3VycmVudFRleHR9YCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChsYXN0U3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE9VVDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHV0aWxpdHkuaXNXaGl0ZXNwYWNlKGN1cnJlbnRDaGFyYWN0ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50VGV4dC5zdGFydHNXaXRoKCcvKicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleENoYXJhY3RlcisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucHVzaChJTl9NVUxUSUxJTkVDT01NRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRUZXh0LnN0YXJ0c1dpdGgoJy8vJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Q2hhcmFjdGVyKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wdXNoKElOX09ORUxJTkVDT01NRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVfcnVsZV9vcl9ibG9jayA9IGN1cnJlbnRDaGFyYWN0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnB1c2goSU5fTkFNRV9SVUxFX09SX0JMT0NLKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBJTl9PTkVMSU5FQ09NTUVOVDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIgPT0gYFxcbmApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YU9iamVjdC5jaGlsZC5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBjb21tZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRUeXBlOiBJU2Nzc0VsZW1lbnRUeXBlLm9uZUxpbmVDb21tZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50ICs9IGN1cnJlbnRDaGFyYWN0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgSU5fTVVMVElMSU5FQ09NTUVOVDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0LnN0YXJ0c1dpdGgoJyovJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Q2hhcmFjdGVyKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFPYmplY3QuY2hpbGQucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogY29tbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50VHlwZTogSVNjc3NFbGVtZW50VHlwZS5tdWx0aUxpbmVDb21tZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50ICs9IGN1cnJlbnRDaGFyYWN0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBJTl9OQU1FX1JVTEVfT1JfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyID09ICc6Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZV9ydWxlID0gbmFtZV9ydWxlX29yX2Jsb2NrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZV92YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wdXNoKElOX1JVTEUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoY3VycmVudFRleHQuc3RhcnRzV2l0aCgnI3snKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZV9ydWxlX29yX2Jsb2NrICs9ICcjeyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleENoYXJhY3RlcisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50Q2hhcmFjdGVyID09ICd7Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tJU2Nzcy5uYW1lID0gbmFtZV9ydWxlX29yX2Jsb2NrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tJU2Nzcy5jb250ZW50ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja0lTY3NzLmNoaWxkID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lX3J1bGVfb3JfYmxvY2sgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucHVzaChJTl9CTE9DSyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudENoYXJhY3RlciA9PSAnOycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFPYmplY3QuY2hpbGQucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZV9ydWxlX29yX2Jsb2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRUeXBlOiBJU2Nzc0VsZW1lbnRUeXBlLnJ1bGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lX3J1bGVfb3JfYmxvY2sgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVfcnVsZV9vcl9ibG9jayArPSBjdXJyZW50Q2hhcmFjdGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgSU5fQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyID09ICd7Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucHVzaChJTl9JTlRFUk5BTF9CTE9DSyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja0lTY3NzLmNvbnRlbnQgKz0gY3VycmVudENoYXJhY3RlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50Q2hhcmFjdGVyID09ICd9Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhT2JqZWN0LmNoaWxkLnB1c2goSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShibG9ja0lTY3NzKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoY3VycmVudFRleHQuc3RhcnRzV2l0aCgnLyonKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucHVzaChJTl9JTlRFUk5BTF9CTE9DS19NVUxUSUxJTkVDT01NRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrSVNjc3MuY29udGVudCArPSAnLyonO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhDaGFyYWN0ZXIrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh1dGlsaXR5LmlzV2hpdGVzcGFjZShjdXJyZW50Q2hhcmFjdGVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tJU2Nzcy5jb250ZW50ICs9IGN1cnJlbnRDaGFyYWN0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja0lTY3NzLmNvbnRlbnQgKz0gY3VycmVudENoYXJhY3RlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIElOX0lOVEVSTkFMX0JMT0NLX01VTFRJTElORUNPTU1FTlQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGN1cnJlbnRUZXh0LnN0YXJ0c1dpdGgoJyovJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrSVNjc3MuY29udGVudCArPSAnKi8nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhDaGFyYWN0ZXIrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tJU2Nzcy5jb250ZW50ICs9IGN1cnJlbnRDaGFyYWN0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBJTl9JTlRFUk5BTF9CTE9DSzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tJU2Nzcy5jb250ZW50ICs9IGN1cnJlbnRDaGFyYWN0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyID09ICd7Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucHVzaChJTl9JTlRFUk5BTF9CTE9DSyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudENoYXJhY3RlciA9PSAnfScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgSU5fUlVMRTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYCR7aW5kZXhDaGFyYWN0ZXJ9IC0gJHtwcmV2aW91c1N0YXRlfSAtICR7bGFzdFN0YXRlfSAtICR7Y3VycmVudFRleHR9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHsgbmFtZV9ydWxlLCBydWxlX3ZhbHVlLCBjdXJyZW50VGV4dFRyaW06IGN1cnJlbnRUZXh0LnRyaW0oKSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyID09ICc7Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YU9iamVjdC5jaGlsZC5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lX3J1bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJ1bGVfdmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFR5cGU6IElTY3NzRWxlbWVudFR5cGUucnVsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVfcnVsZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZV92YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRUZXh0LnN0YXJ0c1dpdGgoJyN7JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVfdmFsdWUgKz0gJyN7JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Q2hhcmFjdGVyKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudENoYXJhY3RlciA9PSAneycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrSVNjc3MubmFtZSA9IG5hbWVfcnVsZSArIFwiOlwiICsgcnVsZV92YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrSVNjc3MuY29udGVudCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tJU2Nzcy5jaGlsZCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZV9ydWxlX29yX2Jsb2NrID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lX3J1bGUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVfdmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucHVzaChJTl9CTE9DSyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudFRleHQudHJpbSgpLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhT2JqZWN0LmNoaWxkLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVfcnVsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcnVsZV92YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50VHlwZTogSVNjc3NFbGVtZW50VHlwZS5ydWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZV9ydWxlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlX3ZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlX3ZhbHVlICs9IGN1cnJlbnRDaGFyYWN0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFN0YXRlIG5vdCBpbXBsZW1lbnRlZDogJHtsYXN0U3RhdGV9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVsZXRlIGRhdGFPYmplY3QuY29udGVudDtcclxuICAgICAgICAgICAgZGVidWcuU2F2ZU9iamVjdEFzSnNvbkZpbGUoYHVucGFja0NvbnRlbnRGcm9tSVNjc3MuJHtpdGVyYXRpb25zfWAsIHN0YXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBkYXRhVG9VbnBhY2s6IEFycmF5PElTY3NzPiA9IFtkYXRhXTtcclxuICAgICAgICB3aGlsZSAoZGF0YVRvVW5wYWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IHggPSBkYXRhVG9VbnBhY2sucG9wKCkgYXMgSVNjc3M7XHJcbiAgICAgICAgICAgIHVucGFja0NvbnRlbnRGcm9tSVNjc3MoeCk7XHJcbiAgICAgICAgICAgIGlmICh4LmNoaWxkICE9IHVuZGVmaW5lZCAmJiB4LmNoaWxkICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHguY2hpbGQuZm9yRWFjaCgodjogSVNjc3MpID0+IGRhdGFUb1VucGFjay5wdXNoKHYpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWJ1Zy5TYXZlT2JqZWN0QXNKc29uRmlsZShgc2Nzc0NvbnZlcnRUb09iamVjdC4ke2l0ZXJhdGlvbnN9YCwgZGF0YSk7XHJcbiAgICAgICAgICAgIGl0ZXJhdGlvbnMrKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgb2JqZWN0Q29udmVydFRvU2Nzcyhfb2JqZWN0OiBJU2Nzcyk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IG9iamVjdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX29iamVjdCkpO1xyXG4gICAgICAgIGlmIChvYmplY3QuY2hpbGQgPT0gbnVsbCB8fCBvYmplY3QuY2hpbGQgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob2JqZWN0LmNoaWxkLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaW50ZXJhdGVPdmVyID0gZnVuY3Rpb24oZGF0YTogSVNjc3MsIGNhbGxhYmxlOiAocGFyZW50OiBJU2NzcywgY2hpbGQ6IElTY3NzKSA9PiBib29sZWFufElTY3NzKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgbGV0IHN0YWNrOiBBcnJheTxJU2Nzcz4gPSBbZGF0YV07XHJcbiAgICAgICAgICAgIGxldCBvcGVyYXRpb25zRG9uZSA9IDA7XHJcbiAgICAgICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbm9kZTogSVNjc3MgPSBzdGFjay5wb3AoKSBhcyBJU2NzcztcclxuICAgICAgICAgICAgICAgIGlmKG5vZGUuY2hpbGQgIT0gdW5kZWZpbmVkICYmIG5vZGUuY2hpbGQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIGxldCBpQ2hpbGQgPSBub2RlLmNoaWxkLmxlbmd0aC0xOyBpQ2hpbGQgPj0gMDsgaUNoaWxkLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGNhbGxhYmxlKG5vZGUsbm9kZS5jaGlsZFtpQ2hpbGRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0ID09PSB0cnVlKSB7fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHJlc3VsdCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbnNEb25lKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmNoaWxkLnNwbGljZShpQ2hpbGQsMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25zRG9uZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5jaGlsZC5zcGxpY2UoaUNoaWxkLDEsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICggbGV0IGMgb2Ygbm9kZS5jaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gb3BlcmF0aW9uc0RvbmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHN0ZXAxID0gZnVuY3Rpb24ocGFyZW50OiBJU2NzcywgY2hpbGQ6IElTY3NzKTogYm9vbGVhbnxJU2NzcyB7XHJcbiAgICAgICAgICAgIHN3aXRjaChjaGlsZC5lbGVtZW50VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBJU2Nzc0VsZW1lbnRUeXBlLnJ1bGU6XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29kZTogc3RyaW5nID0gKGNoaWxkIGFzIElTY3NzUnVsZSkubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoKGNoaWxkIGFzIElTY3NzUnVsZSkudmFsdWUgIT0gdW5kZWZpbmVkIHx8IChjaGlsZCBhcyBJU2Nzc1J1bGUpLnZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gXCI6XCIrKGNoaWxkIGFzIElTY3NzUnVsZSkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZSArPVwiO1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogW2NvZGVdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFR5cGU6IElTY3NzRWxlbWVudFR5cGUuY29kZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgSVNjc3NFbGVtZW50VHlwZS5vbmVMaW5lQ29tbWVudDpcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb2RlOiBzdHJpbmcgPSBgLy8gYCArIChjaGlsZCBhcyBJU2Nzc0NvbW1lbnQpLnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBbY29kZV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50VHlwZTogSVNjc3NFbGVtZW50VHlwZS5jb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBJU2Nzc0VsZW1lbnRUeXBlLm11bHRpTGluZUNvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29kZTogc3RyaW5nID0gYC8qIGAgKyAoY2hpbGQgYXMgSVNjc3NDb21tZW50KS50ZXh0ICsgYCAqL2A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBbY29kZV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50VHlwZTogSVNjc3NFbGVtZW50VHlwZS5jb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBJU2Nzc0VsZW1lbnRUeXBlLmJsb2NrOiBcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBibG9ja0NoaWxkcyA9IChjaGlsZCBhcyBJU2Nzc0Jsb2NrKS5jaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoYmxvY2tDaGlsZHMgPT0gbnVsbCB8fCBibG9ja0NoaWxkcyA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb2RlID0gXCJcIisoY2hpbGQgYXMgSVNjc3NCbG9jaykubmFtZSArIFwie31cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogW2NvZGVdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRUeXBlOiBJU2Nzc0VsZW1lbnRUeXBlLmNvZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihibG9ja0NoaWxkcy5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvZGUgPSBcIlwiKyhjaGlsZCBhcyBJU2Nzc0Jsb2NrKS5uYW1lICsgXCJ7fVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBbY29kZV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFR5cGU6IElTY3NzRWxlbWVudFR5cGUuY29kZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKGJsb2NrQ2hpbGRzLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29kZXM6IEFycmF5PHN0cmluZz4gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVzLnB1c2goXCJcIisoY2hpbGQgYXMgSVNjc3NCbG9jaykubmFtZSArIFwie1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGJsb2NrQ2hpbGRzWzBdLmVsZW1lbnRUeXBlID09IElTY3NzRWxlbWVudFR5cGUuY29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChibG9ja0NoaWxkc1swXSBhcyBJU2Nzc0NvZGUpLmNvZGUuZm9yRWFjaCggYyA9PiBjb2Rlcy5wdXNoKGBcXHQke2N9YCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVzLnB1c2goXCJ9XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFsuLi5jb2Rlc10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRUeXBlOiBJU2Nzc0VsZW1lbnRUeXBlLmNvZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHN0ZXAyID0gZnVuY3Rpb24ocGFyZW50OiBJU2NzcywgY2hpbGQ6IElTY3NzKTogYm9vbGVhbnxJU2NzcyB7XHJcbiAgICAgICAgICAgIGlmKHBhcmVudC5jaGlsZCAhPSB1bmRlZmluZWQgJiYgcGFyZW50LmNoaWxkICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmKHBhcmVudC5jaGlsZC5sZW5ndGggPD0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IGNvZGVzOiBBcnJheTxzdHJpbmc+ID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgYWxsQ2hpbGRzSXNDb2RlOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQuY2hpbGQuZm9yRWFjaCggKGM6IElTY3NzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYy5lbGVtZW50VHlwZSA9PSBJU2Nzc0VsZW1lbnRUeXBlLmNvZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZXMucHVzaCguLi4oYyBhcyBJU2Nzc0NvZGUpLmNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbENoaWxkc0lzQ29kZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYoYWxsQ2hpbGRzSXNDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coe2NvZGVzfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmNoaWxkID0gW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29kZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRUeXBlOiBJU2Nzc0VsZW1lbnRUeXBlLmNvZGVcclxuICAgICAgICAgICAgICAgICAgICB9XTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG9wZXJhdGlvbnMgPSAxO1xyXG4gICAgICAgIHdoaWxlKG9wZXJhdGlvbnMgPiAwKSB7XHJcbiAgICAgICAgICAgIG9wZXJhdGlvbnMgPSAwO1xyXG4gICAgICAgICAgICBvcGVyYXRpb25zICs9IGludGVyYXRlT3ZlcihvYmplY3QsIHN0ZXAxKTtcclxuICAgICAgICAgICAgb3BlcmF0aW9ucyArPSBpbnRlcmF0ZU92ZXIob2JqZWN0LCBzdGVwMik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjb25zdCBmaW5kRGVlcGVzdEVsZW1lbnRzID0gZnVuY3Rpb24gKGRhdGE6IElTY3NzKTogeyBlbGVtZW50czogSVNjc3NbXTsgbWF4RGVwdGg6IG51bWJlciB9IHtcclxuICAgICAgICAvLyAgICAgbGV0IHN0YWNrOiB7IG5vZGU6IElTY3NzOyBkZXB0aDogbnVtYmVyIH1bXSA9IFt7IG5vZGU6IGRhdGEsIGRlcHRoOiAwIH1dO1xyXG4gICAgICAgIC8vICAgICBsZXQgZGVlcGVzdDogSVNjc3NbXSA9IFtdO1xyXG4gICAgICAgIC8vICAgICBsZXQgbWF4RGVwdGggPSAwO1xyXG5cclxuICAgICAgICAvLyAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnN0IHsgbm9kZSwgZGVwdGggfSA9IHN0YWNrLnBvcCgpITtcclxuICAgICAgICAvLyAgICAgICAgIGlmIChub2RlLmVsZW1lbnRUeXBlID09IGVsZW1lbnRUeXBlLmNvZGUpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoZGVwdGggPiBtYXhEZXB0aCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIG1heERlcHRoID0gZGVwdGg7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgZGVlcGVzdCA9IFtub2RlXTtcclxuICAgICAgICAvLyAgICAgICAgIH0gZWxzZSBpZiAoZGVwdGggPT09IG1heERlcHRoKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgZGVlcGVzdC5wdXNoKG5vZGUpO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAgICAgICAgIGlmIChub2RlLmNoaWxkKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goeyBub2RlOiBjaGlsZCwgZGVwdGg6IGRlcHRoICsgMSB9KTtcclxuICAgICAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgIHJldHVybiB7IGVsZW1lbnRzOiBkZWVwZXN0LCBtYXhEZXB0aCB9O1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgLy8gY29uc3QgbWVyZ2VDb2RlRWxlbWVudHNJblNhbWVOb2RlcyA9IGZ1bmN0aW9uIChkYXRhOiBJU2Nzcyk6IG51bWJlciB7XHJcbiAgICAgICAgLy8gICAgIGxldCBzdGFjazogQXJyYXk8SVNjc3M+ID0gW107XHJcbiAgICAgICAgLy8gICAgIHN0YWNrLnB1c2goZGF0YSk7XHJcbiAgICAgICAgLy8gICAgIGxldCBtZXJnZWRDb3VudCA9IDA7XHJcblxyXG4gICAgICAgIC8vICAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgbGV0IG5vZGUgPSBzdGFjay5wb3AoKSE7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAobm9kZS5lbGVtZW50VHlwZSA9PSBlbGVtZW50VHlwZS5jb2RlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAobm9kZS5jaGlsZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGxldCBuZXdDaGlsZHM6IEFycmF5PElTY3NzPiA9IFtdO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKG5vZGUuY2hpbGQubGVuZ3RoKTsgaSsrKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmIChuZXdDaGlsZHMubGVuZ3RoIDw9IDApIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG5ld0NoaWxkcy5wdXNoKG5vZGUuY2hpbGRbaV0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0NoaWxkc1tuZXdDaGlsZHMubGVuZ3RoIC0gMV0uZWxlbWVudFR5cGUgIT0gZWxlbWVudFR5cGUuY29kZSkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGRzLnB1c2gobm9kZS5jaGlsZFtpXSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3Q2hpbGRzW25ld0NoaWxkcy5sZW5ndGggLSAxXS5lbGVtZW50VHlwZSA9PSBlbGVtZW50VHlwZS5jb2RlICYmIG5vZGUuY2hpbGRbaV0uZWxlbWVudFR5cGUgPT0gZWxlbWVudFR5cGUuY29kZSkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgKG5vZGUuY2hpbGRbaV0gYXMgSVNjc3NDb2RlKS5jb2RlLmZvckVhY2goYyA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgKG5ld0NoaWxkc1tuZXdDaGlsZHMubGVuZ3RoIC0gMV0gYXMgSVNjc3NDb2RlKS5jb2RlLnB1c2goYyk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1lcmdlZENvdW50Kys7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgbmV3Q2hpbGRzKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goY2hpbGQpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICBub2RlLmNoaWxkID0gbmV3Q2hpbGRzO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gICAgIHJldHVybiBtZXJnZWRDb3VudDtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gY29uc3QgcmVwbGNlQmxvY2tXaXRoT25lQ2hpbGRDb2RlVG9Db2RlID0gZnVuY3Rpb24gKGRhdGE6IElTY3NzKTogbnVtYmVyIHtcclxuICAgICAgICAvLyAgICAgbGV0IHN0YWNrOiBBcnJheTxJU2Nzcz4gPSBbXTtcclxuICAgICAgICAvLyAgICAgc3RhY2sucHVzaChkYXRhKTtcclxuICAgICAgICAvLyAgICAgbGV0IG1lcmdlZENvdW50ID0gMDtcclxuXHJcbiAgICAgICAgLy8gICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBsZXQgbm9kZSA9IHN0YWNrLnBvcCgpITtcclxuICAgICAgICAvLyAgICAgICAgIGlmIChub2RlLmVsZW1lbnRUeXBlID09IGVsZW1lbnRUeXBlLmNvZGUpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIGlmIChub2RlLmNoaWxkKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgaWYgKG5vZGUuY2hpbGQubGVuZ3RoID09IDApIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgbm9kZS5lbGVtZW50VHlwZSA9IGVsZW1lbnRUeXBlLmNvZGU7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmIChub2RlLmVsZW1lbnRUeXBlID09IGVsZW1lbnRUeXBlLmRlZmF1bHQpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIChub2RlIGFzIElTY3NzQ29kZSkuY29kZSA9IFtdO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgKG5vZGUgYXMgSVNjc3NDb2RlKS5jb2RlID0gWyhub2RlIGFzIElTY3NzQmxvY2spLm5hbWUgKyBcInt9XCJdO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGRlbGV0ZSBub2RlLmNoaWxkO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBkZWxldGUgbm9kZS5jb250ZW50O1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBtZXJnZWRDb3VudCsrO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICBlbHNlIGlmICgobm9kZS5jaGlsZC5sZW5ndGggPT0gMSkgJiYgKG5vZGUuY2hpbGRbMF0uZWxlbWVudFR5cGUgPT0gZWxlbWVudFR5cGUuY29kZSkpIHtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmIChub2RlLmVsZW1lbnRUeXBlID09IGVsZW1lbnRUeXBlLmRlZmF1bHQpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIChub2RlIGFzIElTY3NzQ29kZSkuY29kZSA9IFtdO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgKG5vZGUgYXMgSVNjc3NDb2RlKS5jb2RlID0gWyhub2RlIGFzIElTY3NzQmxvY2spLm5hbWUgKyBcIntcIl07XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgKG5vZGUuY2hpbGRbMF0gYXMgSVNjc3NDb2RlKS5jb2RlLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAobm9kZSBhcyBJU2Nzc0NvZGUpLmNvZGUucHVzaCgnICAnICsgeCk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBpZiAobm9kZS5lbGVtZW50VHlwZSA9PSBlbGVtZW50VHlwZS5ibG9jaykge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgKG5vZGUgYXMgSVNjc3NDb2RlKS5jb2RlLnB1c2goJ30nKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBub2RlLmVsZW1lbnRUeXBlID0gZWxlbWVudFR5cGUuY29kZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgZGVsZXRlIG5vZGUuY2hpbGQ7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGRlbGV0ZSBub2RlLmNvbnRlbnQ7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGxldCBub2RlQmxvY2sgPSBub2RlIGFzIGFueTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgZGVsZXRlIG5vZGVCbG9jay5uYW1lO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBtZXJnZWRDb3VudCsrO1xyXG5cclxuICAgICAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGZvciAobGV0IGMgb2Ygbm9kZS5jaGlsZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChjKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICByZXR1cm4gbWVyZ2VkQ291bnQ7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGxldCBvcGVyYXRpb25zRG9uZSA9IDA7XHJcbiAgICAgICAgLy8gbGV0IGl0ZXJhdGlvbnMgPSAwO1xyXG4gICAgICAgIC8vIGRvIHtcclxuICAgICAgICAvLyAgICAgZGVidWcuU2F2ZU9iamVjdEFzSnNvbkZpbGUoYG9iamVjdENvbnZlcnRUb1Njc3MuJHtpdGVyYXRpb25zfWAsIG9iamVjdCk7XHJcbiAgICAgICAgLy8gICAgIGxldCBkZWVwZXN0ID0gZmluZERlZXBlc3RFbGVtZW50cyhvYmplY3QpLmVsZW1lbnRzO1xyXG4gICAgICAgIC8vICAgICBvcGVyYXRpb25zRG9uZSA9IDA7XHJcbiAgICAgICAgLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVlcGVzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vICAgICAgICAgbGV0IGRlZXA6IGFueSA9IGRlZXBlc3RbaV07XHJcbiAgICAgICAgLy8gICAgICAgICBzd2l0Y2ggKGRlZXAuZWxlbWVudFR5cGUpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjYXNlIGVsZW1lbnRUeXBlLnJ1bGU6XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxldCBjb2RlID0gKGRlZXAgYXMgSVNjc3NSdWxlKS5uYW1lO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRlZXAubmFtZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGlmICgoZGVlcCBhcyBJU2Nzc1J1bGUpLnZhbHVlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgY29kZSArPSAnOicgKyAoZGVlcCBhcyBJU2Nzc1J1bGUpLnZhbHVlXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRlZXAudmFsdWU7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBjb2RlICs9ICc7JztcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIChkZWVwIGFzIElTY3NzQ29kZSkuY29kZSA9IFtjb2RlXTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIChkZWVwIGFzIElTY3NzQ29kZSkuZWxlbWVudFR5cGUgPSBlbGVtZW50VHlwZS5jb2RlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uc0RvbmUrKztcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgICAgICAgICBjYXNlIGVsZW1lbnRUeXBlLm11bHRpTGluZUNvbW1lbnQ6XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxldCBjb21tZW50ID0gKGRlZXAgYXMgSVNjc3NDb21tZW50KS50ZXh0O1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRlZXAudGV4dDtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxldCBjb2RlID0gYC8qJHtjb21tZW50fSovYDtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAoZGVlcCBhcyBJU2Nzc0NvZGUpLmNvZGUgPSBbY29kZV07XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAoZGVlcCBhcyBJU2Nzc0NvZGUpLmVsZW1lbnRUeXBlID0gZWxlbWVudFR5cGUuY29kZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbnNEb25lKys7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY2FzZSBlbGVtZW50VHlwZS5vbmVMaW5lQ29tbWVudDpcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbW1lbnQgPSAoZGVlcCBhcyBJU2Nzc0NvbW1lbnQpLnRleHQ7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGVlcC50ZXh0O1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbGV0IGNvZGUgPSBgLy8ke2NvbW1lbnR9YDtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAoZGVlcCBhcyBJU2Nzc0NvZGUpLmNvZGUgPSBbY29kZV07XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAoZGVlcCBhcyBJU2Nzc0NvZGUpLmVsZW1lbnRUeXBlID0gZWxlbWVudFR5cGUuY29kZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbnNEb25lKys7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyAgICAgbGV0IG9wZXJhdGlvbnNEb25lQ2hhbmdlZFRvQ29kZSA9IG9wZXJhdGlvbnNEb25lO1xyXG5cclxuXHJcbiAgICAgICAgLy8gICAgIGxldCBvcGVyYXRpb25zRG9uZU1lcmdlQ29kZUFsbCA9IDA7XHJcbiAgICAgICAgLy8gICAgIGxldCBvcGVyYXRpb25zRG9uZVJlcGxhY2VCbG9ja0FsbCA9IDA7XHJcbiAgICAgICAgLy8gICAgIHtcclxuICAgICAgICAvLyAgICAgICAgIGxldCBvcGVyYXRpb25zRG9uZVJlcGxhY2VCbG9jayA9IDA7XHJcbiAgICAgICAgLy8gICAgICAgICBkbyB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgb3BlcmF0aW9uc0RvbmVSZXBsYWNlQmxvY2sgPSByZXBsY2VCbG9ja1dpdGhPbmVDaGlsZENvZGVUb0NvZGUob2JqZWN0KTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBvcGVyYXRpb25zRG9uZVJlcGxhY2VCbG9ja0FsbCArPSBvcGVyYXRpb25zRG9uZVJlcGxhY2VCbG9jaztcclxuICAgICAgICAvLyAgICAgICAgIH0gd2hpbGUgKG9wZXJhdGlvbnNEb25lUmVwbGFjZUJsb2NrID4gMClcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICB7XHJcbiAgICAgICAgLy8gICAgICAgICBsZXQgb3BlcmF0aW9uc0RvbmVNZXJnZUNvZGUgPSAwO1xyXG4gICAgICAgIC8vICAgICAgICAgZG8ge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIG9wZXJhdGlvbnNEb25lTWVyZ2VDb2RlID0gbWVyZ2VDb2RlRWxlbWVudHNJblNhbWVOb2RlcyhvYmplY3QpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIG9wZXJhdGlvbnNEb25lTWVyZ2VDb2RlQWxsICs9IG9wZXJhdGlvbnNEb25lTWVyZ2VDb2RlO1xyXG4gICAgICAgIC8vICAgICAgICAgfSB3aGlsZSAob3BlcmF0aW9uc0RvbmVNZXJnZUNvZGUgPiAwKVxyXG4gICAgICAgIC8vICAgICAgICAgb3BlcmF0aW9uc0RvbmUgKz0gb3BlcmF0aW9uc0RvbmVNZXJnZUNvZGVBbGw7XHJcbiAgICAgICAgLy8gICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgIHtcclxuICAgICAgICAvLyAgICAgICAgIGxldCBvcGVyYXRpb25zRG9uZVJlcGxhY2VCbG9jayA9IDA7XHJcbiAgICAgICAgLy8gICAgICAgICBkbyB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgb3BlcmF0aW9uc0RvbmVSZXBsYWNlQmxvY2sgPSByZXBsY2VCbG9ja1dpdGhPbmVDaGlsZENvZGVUb0NvZGUob2JqZWN0KTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBvcGVyYXRpb25zRG9uZVJlcGxhY2VCbG9ja0FsbCArPSBvcGVyYXRpb25zRG9uZVJlcGxhY2VCbG9jaztcclxuICAgICAgICAvLyAgICAgICAgIH0gd2hpbGUgKG9wZXJhdGlvbnNEb25lUmVwbGFjZUJsb2NrID4gMClcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICBvcGVyYXRpb25zRG9uZSArPSBvcGVyYXRpb25zRG9uZU1lcmdlQ29kZUFsbDtcclxuICAgICAgICAvLyAgICAgb3BlcmF0aW9uc0RvbmUgKz0gb3BlcmF0aW9uc0RvbmVSZXBsYWNlQmxvY2tBbGw7XHJcblxyXG4gICAgICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyh7b3BlcmF0aW9uc0RvbmVDaGFuZ2VkVG9Db2RlLCBvcGVyYXRpb25zRG9uZU1lcmdlQ29kZSwgb3BlcmF0aW9uc0RvbmVSZXBsYWNlQmxvY2tBbGwsIG9wZXJhdGlvbnNEb25lfSk7XHJcbiAgICAgICAgLy8gICAgIGl0ZXJhdGlvbnMrKztcclxuICAgICAgICAvLyB9IHdoaWxlIChvcGVyYXRpb25zRG9uZSA+IDApO1xyXG5cclxuICAgICAgICBpZiAoT2JqZWN0LmtleXMob2JqZWN0KS5pbmNsdWRlcygnY29kZScpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QuY29kZS5qb2luKGBcXG5gKTtcclxuICAgICAgICB9IGVsc2UgaWYob2JqZWN0LmNoaWxkLmxlbmd0aCA9PSAxICYmIG9iamVjdC5jaGlsZFswXS5lbGVtZW50VHlwZSA9PSBJU2Nzc0VsZW1lbnRUeXBlLmNvZGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChvYmplY3QuY2hpbGRbMF0gYXMgSVNjc3NDb2RlKS5jb2RlLmpvaW4oYFxcbmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqZWN0LCBudWxsLCAyKTtcclxuICAgIH1cclxufSIsImludGVyZmFjZSBJTG9nIHtcclxuICAgIG1zZzogc3RyaW5nXHJcbn1cclxuY2xhc3MgTG9nZ2VyIHtcclxuICAgIHByb3RlY3RlZCBkYXRhOiBBcnJheTxJTG9nPiA9IFtdO1xyXG4gICAgcHVibGljIGxvZyhtc2c6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuZGF0YS5wdXNoKHttc2c6IG1zZ30pO1xyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIHByaW50TG9ncygpIHtcclxuICAgICAgICB0aGlzLmRhdGEuZm9yRWFjaChsb2cgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhsb2cubXNnKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgcHVibGljIGZsdXNoKCkge1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHByaW50TG9nc0FuZEZsdXNoKCkge1xyXG4gICAgICAgIHRoaXMucHJpbnRMb2dzKCk7XHJcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcigpOyIsImltcG9ydCB7IGV4aXN0c1N5bmMsIHJlYWRkaXJTeW5jLCByZWFkRmlsZVN5bmMsIHN0YXRTeW5jLCB3cml0ZUZpbGVTeW5jLCBta2RpclN5bmMsIHJtU3luYyB9IGZyb20gJ2ZzJztcclxuaW1wb3J0IHBhdGgsIHsgam9pbiwgcmVzb2x2ZSB9IGZyb20gJ3BhdGgnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHV0aWxpdHkgPSB7XHJcbiAgICBnZXRGaWxlc1N5bmM6IGZ1bmN0aW9uKHBhdGg6IHN0cmluZyk6IHN0cmluZ1tdIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBlbnRyaWVzID0gcmVhZGRpclN5bmMocGF0aCk7XHJcbiAgICAgICAgICAgIHJldHVybiBlbnRyaWVzLmZpbHRlcigoZW50cnkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZ1bGxQYXRoID0gam9pbihwYXRoLCBlbnRyeSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdFN5bmMoZnVsbFBhdGgpLmlzRmlsZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWFkaW5nIGZpbGVzOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBnZXREaXJlY3Rvcmllc1N5bmM6IGZ1bmN0aW9uKHBhdGg6IHN0cmluZyk6IHN0cmluZ1tdIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBlbnRyaWVzID0gcmVhZGRpclN5bmMocGF0aCk7XHJcbiAgICAgICAgICAgIHJldHVybiBlbnRyaWVzLmZpbHRlcigoZW50cnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZnVsbFBhdGggPSBqb2luKHBhdGgsIGVudHJ5KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0U3luYyhmdWxsUGF0aCkuaXNEaXJlY3RvcnkoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZyBkaXJlY3RvcmllczonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbG9hZEZpbGVUZXh0OiBmdW5jdGlvbihmaWxlUGF0aDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBhYnNvbHV0ZVBhdGggPSBqb2luKHByb2Nlc3MuY3dkKCksIGZpbGVQYXRoKTtcclxuICAgICAgICAgICAgY29uc3QgZmlsZUNvbnRlbnQgPSByZWFkRmlsZVN5bmMoYWJzb2x1dGVQYXRoLCAndXRmLTgnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZpbGVDb250ZW50O1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgZmlsZTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZG9lc0ZpbGVFeGlzdDogZnVuY3Rpb24gKGZpbGVQYXRoOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBhYnNvbHV0ZVBhdGggPSBqb2luKHByb2Nlc3MuY3dkKCksIGZpbGVQYXRoKTtcclxuICAgICAgICByZXR1cm4gZXhpc3RzU3luYyhhYnNvbHV0ZVBhdGgpO1xyXG4gICAgfSxcclxuICAgIHNhdmVPYmplY3RBc0pzb246IGZ1bmN0aW9uKGZpbGVQYXRoOiBzdHJpbmcsIGRhdGE6IG9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBhYnNvbHV0ZVBhdGggPSBqb2luKHByb2Nlc3MuY3dkKCksIGZpbGVQYXRoKTtcclxuICAgICAgICAgIGNvbnN0IGpzb25EYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMik7IC8vIEtvbndlcnNqYSBkbyBKU09OIHogd2NpxJljaWFtaVxyXG4gICAgICAgICAgd3JpdGVGaWxlU3luYyhhYnNvbHV0ZVBhdGgsIGpzb25EYXRhLCAndXRmLTgnKTtcclxuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKGBQbGlrIHphcGlzYW55OiAke2Fic29sdXRlUGF0aH1gKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignQsWCxIVkIHBvZGN6YXMgemFwaXN5d2FuaWEgcGxpa3UgSlNPTjonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNhdmVTdHJpbmc6IGZ1bmN0aW9uKGZpbGVQYXRoOiBzdHJpbmcsIGRhdGE6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBhYnNvbHV0ZVBhdGggPSBqb2luKHByb2Nlc3MuY3dkKCksIGZpbGVQYXRoKTtcclxuICAgICAgICAgIHdyaXRlRmlsZVN5bmMoYWJzb2x1dGVQYXRoLCBkYXRhLCAndXRmLTgnKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignQsWCxIVkIHBvZGN6YXMgemFwaXN5d2FuaWEgcGxpa3U6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpc1doaXRlc3BhY2U6IGZ1bmN0aW9uKGNoYXI6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAvXlxccyQvLnRlc3QoY2hhcik7XHJcbiAgICB9LFxyXG4gICAgY3JlYXRlRGlyZWN0b3JpZXNTeW5jOiBmdW5jdGlvbih0YXJnZXRQYXRoOiBzdHJpbmcpIHtcclxuICAgICAgICAvLyBQb2R6aWVsIMWbY2llxbxrxJkgbmEgc2VnbWVudHkgaSBpdGVydWogcG8gbmljaCwgdHdvcnrEhWMga2F0YWxvZ2lcclxuICAgICAgICBsZXQgcGFydHMgPSB0YXJnZXRQYXRoLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgbGV0IHByZWZpeDogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwYXJ0cy5mb3JFYWNoKHBhcnQ9PntcclxuICAgICAgICAgICAgcHJlZml4PWpvaW4ocHJlZml4LHBhcnQpO1xyXG4gICAgICAgICAgICBpZighZXhpc3RzU3luYyhwcmVmaXgpKSB7XHJcbiAgICAgICAgICAgICAgICBta2RpclN5bmMocHJlZml4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgZ2V0RGlyZWN0b3J5UGF0aDogZnVuY3Rpb24oZmlsZVBhdGg6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgcGF0aFBhcnRzID0gZmlsZVBhdGguc3BsaXQoL1svXFxcXF0vKTsgLy8gT2JzxYJ1Z2EgemFyw7N3bm8gXCIvXCIgamFrIGkgXCJcXFwiXHJcbiAgICAgICAgcGF0aFBhcnRzLnBvcCgpOyAvLyBVc3VuacSZY2llIG9zdGF0bmllZ28gZWxlbWVudHUgKG5hendhIHBsaWt1KVxyXG4gICAgICAgIHJldHVybiBwYXRoUGFydHMuam9pbignLycpOyAvLyBad3LDs2NlbmllIMWbY2llxbxraSBrYXRhbG9ndVxyXG4gICAgfSxcclxuICAgIGNoYW5nZUV4dGVuc2lvbjogZnVuY3Rpb24oZmlsZVBhdGg6IHN0cmluZywgbmV3RXh0ZW5zaW9uOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBwYXJ0cyA9IGZpbGVQYXRoLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgaWYocGFydHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXSA9IG5ld0V4dGVuc2lvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oJy4nKTtcclxuICAgIH0sXHJcbiAgICBnZXRFeHRlbnNpb246IGZ1bmN0aW9uKGZpbGVQYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBwYXJ0cyA9IGZpbGVQYXRoLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgaWYocGFydHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFydHMucG9wKCkgYXMgc3RyaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgfSxcclxuICAgIGRlbGV0ZURpcmVjdG9yeVN5bmM6IGZ1bmN0aW9uKGRpcmVjdG9yeVBhdGg6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJtU3luYyhkaXJlY3RvcnlQYXRoLCB7IHJlY3Vyc2l2ZTogdHJ1ZSwgZm9yY2U6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBLYXRhbG9nICcke2RpcmVjdG9yeVBhdGh9JyB6b3N0YcWCIHVzdW5pxJl0eS5gKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBOaWUgdWRhxYJvIHNpxJkgdXN1bsSFxIcga2F0YWxvZ3U6ICR7ZXJyb3J9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRlbGV0ZUZpbGVTeW5jOiBmdW5jdGlvbihmaWxlUGF0aDogc3RyaW5nLCBzaWxlbnQ6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJtU3luYyhmaWxlUGF0aCwgeyBmb3JjZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgaWYoIXNpbGVudClcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQbGlrICcke2ZpbGVQYXRofScgem9zdGHFgiB1c3VuacSZdHkuYCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgTmllIHVkYcWCbyBzacSZIHVzdW7EhcSHIHBsaWt1OiAke2Vycm9yfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhdGhcIik7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImltcG9ydCB7IElSdW5Db25maWcsIElSdW5Db25maWdDb21tYW5kLCBJUnVuQ29uZmlnTXVsdGlwbGVGaWxlcyB9IGZyb20gXCIuL2xpYi9tb2RlbC9JUnVuQ29uZmlnXCI7XHJcbmltcG9ydCB7IHV0aWxpdHkgfSBmcm9tIFwiLi9saWIvdXRpbGl0eVwiO1xyXG5pbXBvcnQgeyBqb2luIH0gZnJvbSBcInBhdGhcIjtcclxuaW1wb3J0IHsgRnVuY3Rpb25zIH0gZnJvbSBcIi4vbGliL3NlcnZpY2VzL0Z1bmN0aW9uc1wiO1xyXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiLi9saWIvc2VydmljZXMvTG9nZ2VyXCI7XHJcbmltcG9ydCB7IHJ1bkNvbW1hbmQgfSBmcm9tIFwiLi9saWIvcnVuQ29tbWFuZFwiO1xyXG5cclxuXHJcbmZ1bmN0aW9uIHByb2Nlc3NGb3JGaWxlKGluUGF0aDogc3RyaW5nLCBvdXRQYXRoOiBzdHJpbmcsIGNvbW1hbmRzOiBBcnJheTxJUnVuQ29uZmlnQ29tbWFuZD4pIHtcclxuICAgIGxvZ2dlci5mbHVzaCgpO1xyXG4gICAgbG9nZ2VyLmxvZyhgUHJvY2VzcyBmaWxlOiAke2luUGF0aH0gLT4gJHtvdXRQYXRofWApO1xyXG4gICAgaWYgKCF1dGlsaXR5LmRvZXNGaWxlRXhpc3QoaW5QYXRoKSkge1xyXG4gICAgICAgIGxvZ2dlci5sb2coYEluIGZpbGUgJHtpblBhdGh9IGRvZXMndCBleGlzdGApO1xyXG4gICAgICAgIGxvZ2dlci5wcmludExvZ3NBbmRGbHVzaCgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCBpblN0cmluZzogc3RyaW5nID0gdXRpbGl0eS5sb2FkRmlsZVRleHQoaW5QYXRoKTtcclxuICAgIHV0aWxpdHkuY3JlYXRlRGlyZWN0b3JpZXNTeW5jKHV0aWxpdHkuZ2V0RGlyZWN0b3J5UGF0aChvdXRQYXRoKSk7XHJcblxyXG4gICAgbGV0IGRhdGEgPSBGdW5jdGlvbnMuc2Nzc0NvbnZlcnRUb09iamVjdChpblN0cmluZyk7XHJcbiAgICBsZXQgb3JnaW5hbFN0eWxlT3V0ID0gRnVuY3Rpb25zLm9iamVjdENvbnZlcnRUb1Njc3MoZGF0YSk7XHJcbiAgICBsZXQgcHJvcGVybHlQYWNrQW5kVW5wYWNrU2NzcyA9IEZ1bmN0aW9ucy5jb21wYXJlU2Nzc1N0cmluZ3MoaW5TdHJpbmcsIG9yZ2luYWxTdHlsZU91dCk7XHJcbiAgICBpZighcHJvcGVybHlQYWNrQW5kVW5wYWNrU2Nzcykge1xyXG4gICAgICAgIGxldCBwcm9iYWJseVNhbWVTY3NzU3RyaW5ncyA9IEZ1bmN0aW9ucy5wcm9iYWJseVNhbWVTY3NzU3RyaW5ncyhpblN0cmluZywgb3JnaW5hbFN0eWxlT3V0KTtcclxuICAgICAgICBwcm9wZXJseVBhY2tBbmRVbnBhY2tTY3NzID0gcHJvYmFibHlTYW1lU2Nzc1N0cmluZ3M7XHJcbiAgICB9XHJcbiAgICBsb2dnZXIubG9nKFwiSXMgcHJvcGVybHkgcGFja2VkIGFuZCB1bnBhY2tlZCBzY3NzOiBcIiArIHByb3Blcmx5UGFja0FuZFVucGFja1Njc3MpO1xyXG4gICAgaWYgKHByb3Blcmx5UGFja0FuZFVucGFja1Njc3MgPT0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgZGVidWdPdXQgPSB1dGlsaXR5LmNoYW5nZUV4dGVuc2lvbihvdXRQYXRoLCAnZmFpbC5qc29uJyk7XHJcbiAgICAgICAgdXRpbGl0eS5zYXZlT2JqZWN0QXNKc29uKGRlYnVnT3V0LCBkYXRhKTtcclxuICAgICAgICBsb2dnZXIucHJpbnRMb2dzQW5kRmx1c2goKTtcclxuICAgICAgICB1dGlsaXR5LnNhdmVTdHJpbmcodXRpbGl0eS5jaGFuZ2VFeHRlbnNpb24ob3V0UGF0aCwgXCJmYWlsLlwiICsgdXRpbGl0eS5nZXRFeHRlbnNpb24ob3V0UGF0aCkpLCBvcmdpbmFsU3R5bGVPdXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGNtZCBvZiBjb21tYW5kcykge1xyXG4gICAgICAgIHJ1bkNvbW1hbmQoZGF0YSwgY21kKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZGVidWdPdXQgPSB1dGlsaXR5LmNoYW5nZUV4dGVuc2lvbihvdXRQYXRoLCAnLmpzb24nKTtcclxuICAgIC8vIHV0aWxpdHkuc2F2ZU9iamVjdEFzSnNvbihkZWJ1Z091dCwgZGF0YSk7XHJcbiAgICBsZXQgb3V0U3RyaW5nID0gRnVuY3Rpb25zLm9iamVjdENvbnZlcnRUb1Njc3MoZGF0YSk7XHJcbiAgICBpZiAob3V0U3RyaW5nLnRyaW0oKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdXRpbGl0eS5zYXZlU3RyaW5nKG91dFBhdGgsIG91dFN0cmluZyk7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxubGV0IHJ1bkNvbmZpZzogSVJ1bkNvbmZpZyB8IG51bGwgPSBudWxsO1xyXG5sZXQgcnVuQ29uZmlnRmlsZVBhdGg6IHN0cmluZyA9ICdzY3NzX21vZGRlci5qc29uJztcclxuaWYgKCF1dGlsaXR5LmRvZXNGaWxlRXhpc3QocnVuQ29uZmlnRmlsZVBhdGgpKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkJyYWsgcGxpa3Ugc2Nzc19tb2RkZXIuanNvblwiKTtcclxuICAgIHByb2Nlc3MuZXhpdCgpO1xyXG59XHJcblxyXG5cclxucnVuQ29uZmlnID0gSlNPTi5wYXJzZSh1dGlsaXR5LmxvYWRGaWxlVGV4dChydW5Db25maWdGaWxlUGF0aCkpO1xyXG5pZiAoT2JqZWN0LmtleXMocnVuQ29uZmlnIGFzIGFueSkuaW5jbHVkZXMoJ3N0YXJ0RGlyJykpIHtcclxuICAgIGxldCBydW5Db25maWdNdWx0aXBsZSA9IHJ1bkNvbmZpZyBhcyBJUnVuQ29uZmlnTXVsdGlwbGVGaWxlcztcclxuXHJcbiAgICBpZiAodXRpbGl0eS5kb2VzRmlsZUV4aXN0KHJ1bkNvbmZpZ011bHRpcGxlLm91dHB1dERpcikpIHtcclxuICAgICAgICB1dGlsaXR5LmRlbGV0ZURpcmVjdG9yeVN5bmMocnVuQ29uZmlnTXVsdGlwbGUub3V0cHV0RGlyKTtcclxuICAgIH1cclxuICAgIGlmIChydW5Db25maWdNdWx0aXBsZS5zdGFydERpci5lbmRzV2l0aCgnLycpKSB7XHJcbiAgICAgICAgcnVuQ29uZmlnTXVsdGlwbGUuc3RhcnREaXIgPSBydW5Db25maWdNdWx0aXBsZS5zdGFydERpci5zdWJzdHJpbmcoMCwgcnVuQ29uZmlnTXVsdGlwbGUuc3RhcnREaXIubGVuZ3RoIC0gMSk7XHJcbiAgICB9XHJcbiAgICBsZXQgZGlyVG9DaGVjazogQXJyYXk8c3RyaW5nPiA9IFsnLiddO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKHJ1bkNvbmZpZyk7XHJcbiAgICB3aGlsZSAoZGlyVG9DaGVjay5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgIGxldCBkaXI6IHN0cmluZyA9IGRpclRvQ2hlY2sucG9wKCkgYXMgc3RyaW5nO1xyXG4gICAgICAgIGxldCBmaW5kUGF0aCA9IGpvaW4ocHJvY2Vzcy5jd2QoKSwgcnVuQ29uZmlnTXVsdGlwbGUuc3RhcnREaXIsIGRpcik7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYFByb2Nlc3NpbmcgcGF0aDogJHtmaW5kUGF0aH1gKTtcclxuICAgICAgICBsZXQgZmlsZXNJbkRpciA9IHV0aWxpdHkuZ2V0RmlsZXNTeW5jKGZpbmRQYXRoKS5maWx0ZXIodiA9PiB7IHJldHVybiAodi5lbmRzV2l0aCgnLmNzcycpKSB8fCAodi5lbmRzV2l0aCgnLnNjc3MnKSkgfSlcclxuICAgICAgICBmb3IgKGxldCBmaWxlSW5EaXIgb2YgZmlsZXNJbkRpcikge1xyXG4gICAgICAgICAgICBsZXQgdGVzdFBhdGggPSBgJHtqb2luKHJ1bkNvbmZpZ011bHRpcGxlLnN0YXJ0RGlyLGRpcixmaWxlSW5EaXIpfWA7XHJcbiAgICAgICAgICAgIGlmKHRlc3RQYXRoLnN0YXJ0c1dpdGgocnVuQ29uZmlnTXVsdGlwbGUub3V0cHV0RGlyKSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYocnVuQ29uZmlnTXVsdGlwbGUuZXhjbHVkZVBhdGhGaWxlc1JlZ2V4ICE9IG51bGwgJiYgcnVuQ29uZmlnTXVsdGlwbGUuZXhjbHVkZVBhdGhGaWxlc1JlZ2V4ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaWYodGVzdFBhdGgubWF0Y2gobmV3IFJlZ0V4cChydW5Db25maWdNdWx0aXBsZS5leGNsdWRlUGF0aEZpbGVzUmVnZXgpKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYEZpbGU6ICR7dGVzdFBhdGh9YCk7XHJcbiAgICAgICAgICAgIHByb2Nlc3NGb3JGaWxlKGpvaW4ocnVuQ29uZmlnTXVsdGlwbGUuc3RhcnREaXIsIGRpciwgZmlsZUluRGlyKSwgam9pbihydW5Db25maWdNdWx0aXBsZS5vdXRwdXREaXIsIGRpciwgZmlsZUluRGlyKSwgcnVuQ29uZmlnTXVsdGlwbGUuY29tbWFuZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZGlyZWN0b3JpZXNJbkRpciA9IHV0aWxpdHkuZ2V0RGlyZWN0b3JpZXNTeW5jKGZpbmRQYXRoKTtcclxuICAgICAgICBmb3IgKGxldCBkaXJJbkRpciBvZiBkaXJlY3Rvcmllc0luRGlyKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBEaXI6ICR7am9pbihkaXIsZGlySW5EaXIpfWApO1xyXG4gICAgICAgICAgICBkaXJUb0NoZWNrLnB1c2goam9pbihkaXIsIGRpckluRGlyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbIklSdW5Db25maWdDb21tYW5kVHlwZSIsIklTY3NzRWxlbWVudFR5cGUiLCJkZWZhdWx0IiwicnVsZSIsImJsb2NrIiwib25lTGluZUNvbW1lbnQiLCJtdWx0aUxpbmVDb21tZW50IiwiY29kZSIsInRyeVJ1bkNvbW1hbmRzT25Db21tZW50Iiwic3R5bGVTdHJpbmciLCJjb21tYW5kIiwiaW5TdHJpbmciLCJkYXRhIiwiRnVuY3Rpb25zIiwic2Nzc0NvbnZlcnRUb09iamVjdCIsIm9yaWdPdXRTdHJpbmciLCJvYmplY3RDb252ZXJ0VG9TY3NzIiwiY29tcGFyZVNjc3NTdHJpbmdzIiwiY3BDb21tYW5kIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwicnVuQ29tbWFuZE9uQ29udGVudE9mQ29tbWVudCIsInJ1bkNvbW1hbmQiLCJjb21tYW5kVHlwZSIsIlJlbW92ZUNzc1ZhciIsInN0YWNrIiwibGVuZ3RoIiwiY3VycmVudE5vZGUiLCJwb3AiLCJjaGlsZCIsInVuZGVmaW5lZCIsImlDaGlsZCIsImVsZW1lbnRUeXBlIiwiaXNjc3NSdWxlQ2hpbGQiLCJ2YWx1ZSIsIm5hbWUiLCJzdGFydHNXaXRoIiwic3BsaWNlIiwicHVzaCIsIkNvbW1lbnRzQ29udGVudFRyaW0iLCJ0ZXh0IiwidHJpbSIsIkNoYW5nZU9uZUxpbmVDb21tZW50c1RvTXVsdGlsaW5lIiwiY29tbWVudFRleHQiLCJyZW1vdmVFbmQiLCJyZW1vdmVTdGFydCIsImluc2VydCIsIlJlbW92ZUVtcHR5Q29tbWVudHMiLCJSZW1vdmVSdWxlQnlOYW1lIiwicnVsZU5hbWUiLCJpbmNsdWRlcyIsIlJlbW92ZUVtcHR5QmxvY2tzIiwiaXRlcmF0aW9ucyIsImRvbmVPcGVyYXRpb25zIiwiYmxvY2tXaXRoT25seUNvbW1lbnRzVHJlYXRBc0VtcHR5IiwiY3VycmVudENoaWxkTm9kZSIsImNvdW50Q2hpbGRzT2ZDaGlsZHNDb21tZW50cyIsIm1hcCIsInYiLCJmaWx0ZXIiLCJyZWR1Y2UiLCJwIiwiYyIsImNvbnNvbGUiLCJsb2ciLCJjdXJyIiwiZm9yRWFjaCIsIkRlYnVnIiwiX2RlYnVnT3V0cHV0RGlyIiwicHJvY2VzcyIsImN3ZCIsIl9kZWJ1Z0VuYWJsZWQiLCJEZWJ1Z091dHB1dERpciIsInRoaXMiLCJDbGVhbkRlYnVnRGlyIiwiRGVidWdFbmFibGUiLCJ1dGlsaXR5IiwiZ2V0RmlsZXNTeW5jIiwiZmlsZSIsImVuZHNXaXRoIiwiZGVsZXRlRmlsZVN5bmMiLCJqb2luIiwiR2V0RGVidWdPdXRQYXRoIiwiZmlsZXBhdGgiLCJTYXZlT2JqZWN0QXNKc29uRmlsZSIsInNhdmVPYmplY3RBc0pzb24iLCJkZWJ1ZyIsImZpbmREaWZmZXJlbmNlIiwic3RyaW5nQSIsImNoYW5nZWRTdHJpbmciLCJtYXhMZW5ndGgiLCJNYXRoIiwibWF4IiwiZGlmZmVyZW5jZXMiLCJNYXAiLCJpIiwiY2hhckEiLCJjaGFyQiIsImtleSIsImdldCIsInNldCIsImNvdW50Q2hhcmFjdGVycyIsImNoYXIiLCJzdHIiLCJyZXN1bHQiLCJjb3VudENoYXJhY3RlcnNNYXAiLCJjaGFycyIsImNvbXBhcmVTY3NzRmlsZXMiLCJmaWxlUGF0aEEiLCJmaWxlUGF0aEIiLCJmaWxlQSIsImxvYWRGaWxlVGV4dCIsImZpbGVCIiwicHJvYmFibHlTYW1lU2Nzc1N0cmluZ3MiLCJzdHJpbmdCIiwicHJlcHJvY2VzU3RyaW5nIiwic3BsaXQiLCJsIiwidHJpbVN0YXJ0IiwicmVwbGFjZSIsImNoYXJzVG9Db3VudCIsImFDb3VudCIsImJDb3VudCIsInN1bUNvdW50Iiwic3VtIiwic2l6ZSIsInN1bUtleSIsImtleXMiLCJzdW1LZXlDb3VudCIsInNjc3NTdHJpbmciLCJjb250ZW50IiwidW5wYWNrQ29udGVudEZyb21JU2NzcyIsImRhdGFPYmplY3QiLCJJTl9CTE9DSyIsIklOX09ORUxJTkVDT01NRU5UIiwiSU5fTVVMVElMSU5FQ09NTUVOVCIsIklOX1JVTEUiLCJJTl9OQU1FX1JVTEVfT1JfQkxPQ0siLCJJTl9JTlRFUk5BTF9CTE9DSyIsIklOX0lOVEVSTkFMX0JMT0NLX01VTFRJTElORUNPTU1FTlQiLCJzdGF0ZSIsIm5hbWVfcnVsZV9vcl9ibG9jayIsIm5hbWVfcnVsZSIsInJ1bGVfdmFsdWUiLCJjb21tZW50IiwiYmxvY2tJU2NzcyIsImluZGV4Q2hhcmFjdGVyIiwibGFzdFN0YXRlIiwicHJldmlvdXNTdGF0ZSIsImN1cnJlbnRDaGFyYWN0ZXIiLCJjdXJyZW50VGV4dCIsInN1YnN0cmluZyIsImlzV2hpdGVzcGFjZSIsImRhdGFUb1VucGFjayIsIngiLCJfb2JqZWN0Iiwib2JqZWN0IiwiaW50ZXJhdGVPdmVyIiwiY2FsbGFibGUiLCJvcGVyYXRpb25zRG9uZSIsIm5vZGUiLCJzdGVwMSIsInBhcmVudCIsImJsb2NrQ2hpbGRzIiwiY29kZXMiLCJzdGVwMiIsImFsbENoaWxkc0lzQ29kZSIsIm9wZXJhdGlvbnMiLCJPYmplY3QiLCJsb2dnZXIiLCJtc2ciLCJwcmludExvZ3MiLCJmbHVzaCIsInByaW50TG9nc0FuZEZsdXNoIiwicGF0aCIsInJlYWRkaXJTeW5jIiwiZW50cnkiLCJmdWxsUGF0aCIsInN0YXRTeW5jIiwiaXNGaWxlIiwiZXJyb3IiLCJnZXREaXJlY3Rvcmllc1N5bmMiLCJpc0RpcmVjdG9yeSIsImZpbGVQYXRoIiwiYWJzb2x1dGVQYXRoIiwicmVhZEZpbGVTeW5jIiwiZG9lc0ZpbGVFeGlzdCIsImV4aXN0c1N5bmMiLCJqc29uRGF0YSIsIndyaXRlRmlsZVN5bmMiLCJzYXZlU3RyaW5nIiwidGVzdCIsImNyZWF0ZURpcmVjdG9yaWVzU3luYyIsInRhcmdldFBhdGgiLCJwYXJ0cyIsInByZWZpeCIsInBhcnQiLCJta2RpclN5bmMiLCJnZXREaXJlY3RvcnlQYXRoIiwicGF0aFBhcnRzIiwiY2hhbmdlRXh0ZW5zaW9uIiwibmV3RXh0ZW5zaW9uIiwiZ2V0RXh0ZW5zaW9uIiwiZGVsZXRlRGlyZWN0b3J5U3luYyIsImRpcmVjdG9yeVBhdGgiLCJybVN5bmMiLCJyZWN1cnNpdmUiLCJmb3JjZSIsInNpbGVudCIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXF1aXJlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsInByb2Nlc3NGb3JGaWxlIiwiaW5QYXRoIiwib3V0UGF0aCIsImNvbW1hbmRzIiwib3JnaW5hbFN0eWxlT3V0IiwicHJvcGVybHlQYWNrQW5kVW5wYWNrU2NzcyIsImRlYnVnT3V0IiwiY21kIiwib3V0U3RyaW5nIiwicnVuQ29uZmlnIiwicnVuQ29uZmlnRmlsZVBhdGgiLCJleGl0IiwicnVuQ29uZmlnTXVsdGlwbGUiLCJvdXRwdXREaXIiLCJzdGFydERpciIsImRpclRvQ2hlY2siLCJkaXIiLCJmaW5kUGF0aCIsImZpbGVzSW5EaXIiLCJmaWxlSW5EaXIiLCJ0ZXN0UGF0aCIsImV4Y2x1ZGVQYXRoRmlsZXNSZWdleCIsIm1hdGNoIiwiUmVnRXhwIiwiZGlyZWN0b3JpZXNJbkRpciIsImRpckluRGlyIl0sInNvdXJjZVJvb3QiOiIifQ==